<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-07-27T21:21:08.643825"><title>Corrections des Auto-&eacute;valuations | Java Spring Test</title><script type="application/json" id="virtual-toc-data">[{"id":"chapitre-1-introduction-aux-tests-logiciels","level":0,"title":"Chapitre 1 : Introduction aux Tests Logiciels","anchor":"#chapitre-1-introduction-aux-tests-logiciels"},{"id":"chapitre-2-outils-de-base-pour-les-tests-en-java","level":0,"title":"Chapitre 2 : Outils de Base pour les Tests en Java","anchor":"#chapitre-2-outils-de-base-pour-les-tests-en-java"},{"id":"chapitre-3-introduction-aux-tests-avec-spring-boot","level":0,"title":"Chapitre 3 : Introduction aux Tests avec Spring Boot","anchor":"#chapitre-3-introduction-aux-tests-avec-spring-boot"},{"id":"chapitre-4-tests-unitaires-des-composants-spring","level":0,"title":"Chapitre 4 : Tests Unitaires des Composants Spring","anchor":"#chapitre-4-tests-unitaires-des-composants-spring"},{"id":"chapitre-5-tests-d-int-gration-la-couche-web","level":0,"title":"Chapitre 5 : Tests d\u0027Intégration : La Couche Web","anchor":"#chapitre-5-tests-d-int-gration-la-couche-web"},{"id":"chapitre-6-tests-d-int-gration-la-couche-d-acc-s-aux-donn-es","level":0,"title":"Chapitre 6 : Tests d\u0027Intégration : La Couche d\u0027Accès aux Données","anchor":"#chapitre-6-tests-d-int-gration-la-couche-d-acc-s-aux-donn-es"},{"id":"chapitre-7-tests-d-int-gration-complets","level":0,"title":"Chapitre 7 : Tests d\u0027Intégration Complets","anchor":"#chapitre-7-tests-d-int-gration-complets"},{"id":"chapitre-8-g-rer-les-d-pendances-externes-testcontainers","level":0,"title":"Chapitre 8 : Gérer les Dépendances Externes : Testcontainers","anchor":"#chapitre-8-g-rer-les-d-pendances-externes-testcontainers"},{"id":"chapitre-9-tester-la-s-curit-avec-spring-security","level":0,"title":"Chapitre 9 : Tester la Sécurité avec Spring Security","anchor":"#chapitre-9-tester-la-s-curit-avec-spring-security"},{"id":"chapitre-10-tests-asynchrones-et-r-actifs","level":0,"title":"Chapitre 10 : Tests Asynchrones et Réactifs","anchor":"#chapitre-10-tests-asynchrones-et-r-actifs"},{"id":"chapitre-11-bonnes-pratiques-et-strat-gies-avanc-es","level":0,"title":"Chapitre 11 : Bonnes Pratiques et Stratégies Avancées","anchor":"#chapitre-11-bonnes-pratiques-et-strat-gies-avanc-es"},{"id":"chapitre-12-conclusion-et-aller-plus-loin","level":0,"title":"Chapitre 12 : Conclusion et Aller Plus Loin","anchor":"#chapitre-12-conclusion-et-aller-plus-loin"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Corrections des Auto-&eacute;valuations | Java Spring Test"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Java Spring Test Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/012-01-corrections.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Corrections des Auto-&eacute;valuations | Java Spring Test"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/012-01-corrections.html#webpage",
    "url": "writerside-documentation/012-01-corrections.html",
    "name": "Corrections des Auto-&eacute;valuations | Java Spring Test",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Java Spring Test Help"
}</script><!-- End Schema.org --></head><body data-id="012-01-corrections" data-main-title="Corrections des Auto-évaluations" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="0012-00-conclusion.md|Chapitre 12 : Conclusion et Aller Plus Loin"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Java Spring Test  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="012-01-corrections" id="012-01-corrections.md">Corrections des Auto-évaluations</h1><section class="chapter"><h2 id="chapitre-1-introduction-aux-tests-logiciels" data-toc="chapitre-1-introduction-aux-tests-logiciels">Chapitre 1 : Introduction aux Tests Logiciels</h2><section class="chapter"><h3 id="partie-1-l-essentiel_1" data-toc="partie-1-l-essentiel_1">Partie 1 : L'essentiel</h3><ol class="list _decimal" id="cj0enk_17" type="1"><li class="list__item" id="cj0enk_18"><p id="cj0enk_23"><span class="control" id="cj0enk_25">Qu'est-ce qu'une &quot;r&eacute;gression&quot; ?</span></p><ul class="list _bullet" id="cj0enk_24"><li class="list__item" id="cj0enk_26"><p id="cj0enk_27"><span class="control" id="cj0enk_28">R&eacute;ponse :</span> Une r&eacute;gression est un bug qui appara&icirc;t dans une fonctionnalit&eacute; existante et qui fonctionnait correctement, suite &agrave; une modification du code (ajout d'une nouvelle fonctionnalit&eacute;, correction d'un autre bug, etc.). Les tests automatis&eacute;s aident &agrave; la pr&eacute;venir en constituant un filet de s&eacute;curit&eacute; qui re-valide l'ensemble des fonctionnalit&eacute;s de l'application apr&egrave;s chaque changement, d&eacute;tectant ainsi imm&eacute;diatement les effets de bord ind&eacute;sirables.</p></li></ul></li><li class="list__item" id="cj0enk_19"><p id="cj0enk_29"><span class="control" id="cj0enk_31">'I' dans F.I.R.S.T. ?</span></p><ul class="list _bullet" id="cj0enk_30"><li class="list__item" id="cj0enk_32"><p id="cj0enk_33"><span class="control" id="cj0enk_34">R&eacute;ponse :</span> c) Ind&eacute;pendant. Chaque test doit pouvoir s'ex&eacute;cuter seul, sans d&eacute;pendre de l'&eacute;tat laiss&eacute; par un test pr&eacute;c&eacute;dent.</p></li></ul></li><li class="list__item" id="cj0enk_20"><p id="cj0enk_35"><span class="control" id="cj0enk_37">Diff&eacute;rence entre test unitaire et test d'int&eacute;gration ?</span></p><ul class="list _bullet" id="cj0enk_36"><li class="list__item" id="cj0enk_38"><p id="cj0enk_39"><span class="control" id="cj0enk_40">R&eacute;ponse :</span> Le test unitaire v&eacute;rifie une seule unit&eacute; de code (une classe, une m&eacute;thode) de mani&egrave;re totalement isol&eacute;e de ses d&eacute;pendances (qui sont mock&eacute;es). Le test d'int&eacute;gration, lui, v&eacute;rifie la collaboration et l'interaction entre plusieurs composants (par exemple, un contr&ocirc;leur, un service et un repository qui dialogue avec une base de donn&eacute;es).</p></li></ul></li><li class="list__item" id="cj0enk_21"><p id="cj0enk_41"><span class="control" id="cj0enk_43">Bug le plus co&ucirc;teux &agrave; corriger ?</span></p><ul class="list _bullet" id="cj0enk_42"><li class="list__item" id="cj0enk_44"><p id="cj0enk_45"><span class="control" id="cj0enk_46">R&eacute;ponse :</span> c) Apr&egrave;s le d&eacute;ploiement en production, lorsqu'il est trouv&eacute; par un client.</p></li></ul></li><li class="list__item" id="cj0enk_22"><p id="cj0enk_47"><span class="control" id="cj0enk_49">But du &quot;Red-Green-Refactor&quot; ?</span></p><ul class="list _bullet" id="cj0enk_48"><li class="list__item" id="cj0enk_50"><p id="cj0enk_51"><span class="control" id="cj0enk_52">R&eacute;ponse :</span> b) Laisser les tests guider la conception et l'&eacute;criture du code.</p></li></ul></li></ol></section><section class="chapter"><h3 id="partie-2-pour-aller-plus-loin_1" data-toc="partie-2-pour-aller-plus-loin_1">Partie 2 : Pour aller plus loin</h3><ol class="list _decimal" id="cj0enk_53" type="1"><li class="list__item" id="cj0enk_54"><p id="cj0enk_59"><span class="control" id="cj0enk_61">Qu'est-ce que le &quot;Shift Left Testing&quot; ?</span></p><ul class="list _bullet" id="cj0enk_60"><li class="list__item" id="cj0enk_62"><p id="cj0enk_63"><span class="control" id="cj0enk_64">R&eacute;ponse :</span> C'est la pratique qui consiste &agrave; int&eacute;grer les activit&eacute;s de test le plus t&ocirc;t possible dans le cycle de d&eacute;veloppement. Un exemple concret est la tenue d'un atelier BDD (<code class="code" id="cj0enk_65">Given-When-Then</code>) avec le Product Owner avant m&ecirc;me d'&eacute;crire la premi&egrave;re ligne de code.</p></li></ul></li><li class="list__item" id="cj0enk_55"><p id="cj0enk_66"><span class="control" id="cj0enk_68">Mod&egrave;le favorisant les tests d'int&eacute;gration ?</span></p><ul class="list _bullet" id="cj0enk_67"><li class="list__item" id="cj0enk_69"><p id="cj0enk_70"><span class="control" id="cj0enk_71">R&eacute;ponse :</span> c) Le Troph&eacute;e des Tests (Testing Trophy).</p></li></ul></li><li class="list__item" id="cj0enk_56"><p id="cj0enk_72"><span class="control" id="cj0enk_74">Diff&eacute;rence de &quot;public&quot; entre TDD et BDD ?</span></p><ul class="list _bullet" id="cj0enk_73"><li class="list__item" id="cj0enk_75"><p id="cj0enk_76"><span class="control" id="cj0enk_77">R&eacute;ponse :</span> Le TDD est une discipline pour le d&eacute;veloppeur (une conversation technique sur &quot;comment bien construire le code&quot;). Le BDD est un processus de collaboration pour toute l'&eacute;quipe, y compris les non-techniciens (une conversation m&eacute;tier sur &quot;construisons-nous la bonne chose ?&quot;).</p></li></ul></li><li class="list__item" id="cj0enk_57"><p id="cj0enk_78"><span class="control" id="cj0enk_80">Exemple de test non fonctionnel ?</span></p><ul class="list _bullet" id="cj0enk_79"><li class="list__item" id="cj0enk_81"><p id="cj0enk_82"><span class="control" id="cj0enk_83">R&eacute;ponse :</span> c) Un test qui mesure le temps de r&eacute;ponse de la page d'accueil avec 500 utilisateurs connect&eacute;s ( c'est un test de performance).</p></li></ul></li><li class="list__item" id="cj0enk_58"><p id="cj0enk_84"><span class="control" id="cj0enk_86">Syntaxe <code class="code" id="cj0enk_87">Given-When-Then</code>?</span></p><ul class="list _bullet" id="cj0enk_85"><li class="list__item" id="cj0enk_88"><p id="cj0enk_89"><span class="control" id="cj0enk_90">R&eacute;ponse :</span> c) BDD (Behavior-Driven Development).</p></li></ul></li></ol></section></section><section class="chapter"><h2 id="chapitre-2-outils-de-base-pour-les-tests-en-java" data-toc="chapitre-2-outils-de-base-pour-les-tests-en-java">Chapitre 2 : Outils de Base pour les Tests en Java</h2><section class="chapter"><h3 id="partie-1-l-essentiel_2" data-toc="partie-1-l-essentiel_2">Partie 1 : L'essentiel</h3><ol class="list _decimal" id="cj0enk_93" type="1"><li class="list__item" id="cj0enk_94"><p id="cj0enk_99"><span class="control" id="cj0enk_101">&Agrave; quoi sert <code class="code" id="cj0enk_102">@BeforeEach</code>?</span></p><ul class="list _bullet" id="cj0enk_100"><li class="list__item" id="cj0enk_103"><p id="cj0enk_104"><span class="control" id="cj0enk_105">R&eacute;ponse :</span> C'est une annotation JUnit 5 qui marque une m&eacute;thode devant &ecirc;tre ex&eacute;cut&eacute;e <span class="control" id="cj0enk_106">avant chaque</span> test (<code class="code" id="cj0enk_107">@Test</code>) de la classe. C'est id&eacute;al pour initialiser ou r&eacute;initialiser un &eacute;tat commun avant chaque test.</p></li></ul></li><li class="list__item" id="cj0enk_95"><p id="cj0enk_108"><span class="control" id="cj0enk_110">Qu'est-ce qu'un &quot;mock&quot; ?</span></p><ul class="list _bullet" id="cj0enk_109"><li class="list__item" id="cj0enk_111"><p id="cj0enk_112"><span class="control" id="cj0enk_113">R&eacute;ponse :</span> b) Un objet factice qui simule le comportement d'une d&eacute;pendance pour isoler le code test&eacute;.</p></li></ul></li><li class="list__item" id="cj0enk_96"><p id="cj0enk_114"><span class="control" id="cj0enk_116">Avantage d'AssertJ ?</span></p><ul class="list _bullet" id="cj0enk_115"><li class="list__item" id="cj0enk_117"><p id="cj0enk_118"><span class="control" id="cj0enk_119">R&eacute;ponse :</span> Son principal avantage est sa syntaxe &quot;fluide&quot; qui permet d'&eacute;crire des assertions tr&egrave;s lisibles ( proches d'une phrase en anglais) et de les cha&icirc;ner, rendant les tests plus expressifs et plus puissants.</p></li></ul></li><li class="list__item" id="cj0enk_97"><p id="cj0enk_120"><span class="control" id="cj0enk_122">Annotation pour des tests avec plusieurs jeux de donn&eacute;es ?</span></p><ul class="list _bullet" id="cj0enk_121"><li class="list__item" id="cj0enk_123"><p id="cj0enk_124"><span class="control" id="cj0enk_125">R&eacute;ponse :</span> d) <code class="code" id="cj0enk_126">@ParameterizedTest</code>.</p></li></ul></li><li class="list__item" id="cj0enk_98"><p id="cj0enk_127"><span class="control" id="cj0enk_129">Syntaxe de &quot;stubbing&quot; Mockito ?</span></p><ul class="list _bullet" id="cj0enk_128"><li class="list__item" id="cj0enk_130"><p id="cj0enk_131"><span class="control" id="cj0enk_132">R&eacute;ponse :</span> b) <code class="code" id="cj0enk_133">when(mock.method()).thenReturn(&quot;value&quot;)</code>.</p></li></ul></li></ol></section><section class="chapter"><h3 id="partie-2-pour-aller-plus-loin_2" data-toc="partie-2-pour-aller-plus-loin_2">Partie 2 : Pour aller plus loin</h3><ol class="list _decimal" id="cj0enk_134" type="1"><li class="list__item" id="cj0enk_135"><p id="cj0enk_140"><span class="control" id="cj0enk_142">Quand utiliser un <code class="code" id="cj0enk_143">@Spy</code>?</span></p><ul class="list _bullet" id="cj0enk_141"><li class="list__item" id="cj0enk_144"><p id="cj0enk_145"><span class="control" id="cj0enk_146">R&eacute;ponse :</span> Un <code class="code" id="cj0enk_147">@Spy</code> s'utilise (rarement) quand on a besoin de tester une m&eacute;thode d'un objet r&eacute;el tout en conservant le comportement original de ses autres m&eacute;thodes. Le risque est que l'appel &agrave; une m&eacute;thode non-stubb&eacute;e ex&eacute;cute du code r&eacute;el potentiellement complexe ou avec des effets de bord. C'est souvent le signe d'une classe qui m&eacute;riterait d'&ecirc;tre refactoris&eacute;e.</p></li></ul></li><li class="list__item" id="cj0enk_136"><p id="cj0enk_148"><span class="control" id="cj0enk_150">Utilit&eacute; de <code class="code" id="cj0enk_151">ArgumentCaptor</code>?</span></p><ul class="list _bullet" id="cj0enk_149"><li class="list__item" id="cj0enk_152"><p id="cj0enk_153"><span class="control" id="cj0enk_154">R&eacute;ponse :</span> b) Capturer et inspecter les valeurs des arguments pass&eacute;s &agrave; une m&eacute;thode d'un mock.</p></li></ul></li><li class="list__item" id="cj0enk_137"><p id="cj0enk_155"><span class="control" id="cj0enk_157">Avantage des &quot;soft assertions&quot; ?</span></p><ul class="list _bullet" id="cj0enk_156"><li class="list__item" id="cj0enk_158"><p id="cj0enk_159"><span class="control" id="cj0enk_160">R&eacute;ponse :</span> Elles permettent de rapporter toutes les erreurs d'assertion au sein d'un bloc de test, au lieu de s'arr&ecirc;ter &agrave; la premi&egrave;re. C'est tr&egrave;s utile pour valider plusieurs propri&eacute;t&eacute;s d'un m&ecirc;me objet en une seule fois.</p></li></ul></li><li class="list__item" id="cj0enk_138"><p id="cj0enk_161"><span class="control" id="cj0enk_163">Annotation pour organiser les tests en groupes ?</span></p><ul class="list _bullet" id="cj0enk_162"><li class="list__item" id="cj0enk_164"><p id="cj0enk_165"><span class="control" id="cj0enk_166">R&eacute;ponse :</span> d) L'annotation <code class="code" id="cj0enk_167">@Nested</code> sur des classes internes.</p></li></ul></li><li class="list__item" id="cj0enk_139"><p id="cj0enk_168"><span class="control" id="cj0enk_170">Tester une exception sur une m&eacute;thode <code class="code" id="cj0enk_171">void</code>?</span></p><ul class="list _bullet" id="cj0enk_169"><li class="list__item" id="cj0enk_172"><p id="cj0enk_173"><span class="control" id="cj0enk_174">R&eacute;ponse :</span> c) <code class="code" id="cj0enk_175">doThrow(new MyException()).when(mock).voidMethod();</code>.</p></li></ul></li></ol></section></section><section class="chapter"><h2 id="chapitre-3-introduction-aux-tests-avec-spring-boot" data-toc="chapitre-3-introduction-aux-tests-avec-spring-boot">Chapitre 3 : Introduction aux Tests avec Spring Boot</h2><section class="chapter"><h3 id="partie-1-l-essentiel_3" data-toc="partie-1-l-essentiel_3">Partie 1 : L'essentiel</h3><ol class="list _decimal" id="cj0enk_178" type="1"><li class="list__item" id="cj0enk_179"><p id="cj0enk_184"><span class="control" id="cj0enk_186">Diff&eacute;rence entre <code class="code" id="cj0enk_187">@Mock</code> et <code class="code" id="cj0enk_188">@MockBean</code>?</span></p><ul class="list _bullet" id="cj0enk_185"><li class="list__item" id="cj0enk_189"><p id="cj0enk_190"><span class="control" id="cj0enk_191">R&eacute;ponse :</span> <code class="code" id="cj0enk_192">@Mock</code> (de Mockito) cr&eacute;e un simple mock que vous devez g&eacute;rer et injecter manuellement. <code class="code" id="cj0enk_193">@MockBean</code> (de Spring) cr&eacute;e un mock et remplace le bean correspondant directement dans le contexte d'application Spring pour la dur&eacute;e du test.</p></li></ul></li><li class="list__item" id="cj0enk_180"><p id="cj0enk_194"><span class="control" id="cj0enk_196"><code class="code" id="cj0enk_197">spring-boot-starter-test</code> inclut-il... ?</span></p><ul class="list _bullet" id="cj0enk_195"><li class="list__item" id="cj0enk_198"><p id="cj0enk_199"><span class="control" id="cj0enk_200">R&eacute;ponse :</span> c) Un ensemble de biblioth&egrave;ques incluant Spring Test, JUnit 5, Mockito et AssertJ.</p></li></ul></li><li class="list__item" id="cj0enk_181"><p id="cj0enk_201"><span class="control" id="cj0enk_203">Comment utiliser une base H2 pour les tests ?</span></p><ul class="list _bullet" id="cj0enk_202"><li class="list__item" id="cj0enk_204"><p id="cj0enk_205"><span class="control" id="cj0enk_206">R&eacute;ponse :</span> La mani&egrave;re la plus simple est de cr&eacute;er un fichier <code class="code" id="cj0enk_207">src/test/resources/application-test.properties</code> ( ou <code class="code" id="cj0enk_208">.yml</code>) et d'y d&eacute;finir la configuration de la datasource pour qu'elle pointe vers H2.</p></li></ul></li><li class="list__item" id="cj0enk_182"><p id="cj0enk_209"><span class="control" id="cj0enk_211">L'annotation <code class="code" id="cj0enk_212">@SpringBootTest</code>...</span></p><ul class="list _bullet" id="cj0enk_210"><li class="list__item" id="cj0enk_213"><p id="cj0enk_214"><span class="control" id="cj0enk_215">R&eacute;ponse :</span> b) Charge un contexte d'application Spring complet, rendant les beans disponibles pour l'injection.</p></li></ul></li><li class="list__item" id="cj0enk_183"><p id="cj0enk_216"><span class="control" id="cj0enk_218">Que fait <code class="code" id="cj0enk_219">@TestConfiguration</code>?</span></p><ul class="list _bullet" id="cj0enk_217"><li class="list__item" id="cj0enk_220"><p id="cj0enk_221"><span class="control" id="cj0enk_222">R&eacute;ponse :</span> b) Elle ajoute des beans au contexte de test, qui peuvent &ecirc;tre utilis&eacute;s en plus des beans de l'application principale.</p></li></ul></li></ol></section><section class="chapter"><h3 id="partie-2-pour-aller-plus-loin_3" data-toc="partie-2-pour-aller-plus-loin_3">Partie 2 : Pour aller plus loin</h3><ol class="list _decimal" id="cj0enk_223" type="1"><li class="list__item" id="cj0enk_224"><p id="cj0enk_229"><span class="control" id="cj0enk_231">Quel <code class="code" id="cj0enk_232">webEnvironment</code> pour un appel HTTP r&eacute;el ?</span></p><ul class="list _bullet" id="cj0enk_230"><li class="list__item" id="cj0enk_233"><p id="cj0enk_234"><span class="control" id="cj0enk_235">R&eacute;ponse :</span> <code class="code" id="cj0enk_236">@SpringBootTest.WebEnvironment.RANDOM_PORT</code>. Il d&eacute;marre un vrai serveur web sur un port al&eacute;atoire, ce qui permet de faire de vrais appels r&eacute;seau avec <code class="code" id="cj0enk_237">TestRestTemplate</code> sans risque de conflit de port.</p></li></ul></li><li class="list__item" id="cj0enk_225"><p id="cj0enk_238"><span class="control" id="cj0enk_240">Utilit&eacute; de <code class="code" id="cj0enk_241">@Sql</code>?</span></p><ul class="list _bullet" id="cj0enk_239"><li class="list__item" id="cj0enk_242"><p id="cj0enk_243"><span class="control" id="cj0enk_244">R&eacute;ponse :</span> b) Ex&eacute;cuter des scripts SQL pour initialiser et nettoyer l'&eacute;tat de la base de donn&eacute;es pour un test.</p></li></ul></li><li class="list__item" id="cj0enk_226"><p id="cj0enk_245"><span class="control" id="cj0enk_247"><code class="code" id="cj0enk_248">@TestPropertySource</code> vs. <code class="code" id="cj0enk_249">application-test.properties</code>?</span></p><ul class="list _bullet" id="cj0enk_246"><li class="list__item" id="cj0enk_250"><p id="cj0enk_251"><span class="control" id="cj0enk_252">R&eacute;ponse :</span> <code class="code" id="cj0enk_253">application-test.properties</code> d&eacute;finit une configuration de base pour tous les tests. <code class="code" id="cj0enk_254">@TestPropertySource</code> permet de surcharger une ou plusieurs propri&eacute;t&eacute;s sp&eacute;cifiquement pour une classe de test ou m&ecirc;me une seule m&eacute;thode, ce qui est id&eacute;al pour tester des comportements qui d&eacute;pendent d'une configuration particuli&egrave;re.</p></li></ul></li><li class="list__item" id="cj0enk_227"><p id="cj0enk_255"><span class="control" id="cj0enk_257">Effet de <code class="code" id="cj0enk_258">@SpringBootTest(classes = ...)</code>?</span></p><ul class="list _bullet" id="cj0enk_256"><li class="list__item" id="cj0enk_259"><p id="cj0enk_260"><span class="control" id="cj0enk_261">R&eacute;ponse :</span> d) Spring cr&eacute;era un contexte de test contenant uniquement le bean <code class="code" id="cj0enk_262">MyService</code> (et tentera d'injecter ses d&eacute;pendances). C'est une simplification de la r&eacute;ponse correcte : Spring va charger les classes sp&eacute;cifi&eacute;es et leurs d&eacute;pendances n&eacute;cessaires, mais pas toute l'application. La r&eacute;ponse d) est la plus proche de la r&eacute;alit&eacute; parmi les choix.</p></li></ul></li><li class="list__item" id="cj0enk_228"><p id="cj0enk_263"><span class="control" id="cj0enk_265">Effet de <code class="code" id="cj0enk_266">@Configuration</code> dans un test ?</span></p><ul class="list _bullet" id="cj0enk_264"><li class="list__item" id="cj0enk_267"><p id="cj0enk_268"><span class="control" id="cj0enk_269">R&eacute;ponse :</span> b) Elle sera utilis&eacute;e pour ajouter ou modifier des beans dans le contexte principal de l'application pour ce test. Elle est plus &quot;puissante&quot; qu'une <code class="code" id="cj0enk_270">@TestConfiguration</code> et peut remplacer des beans existants.</p></li></ul></li></ol></section></section><section class="chapter"><h2 id="chapitre-4-tests-unitaires-des-composants-spring" data-toc="chapitre-4-tests-unitaires-des-composants-spring">Chapitre 4 : Tests Unitaires des Composants Spring</h2><ol class="list _decimal" id="cj0enk_271" type="1"><li class="list__item" id="cj0enk_272"><p id="cj0enk_277"><span class="control" id="cj0enk_279">Pourquoi utiliser <code class="code" id="cj0enk_280">@SpringBootTest(classes = ...)</code> pour un test de service ?</span></p><ul class="list _bullet" id="cj0enk_278"><li class="list__item" id="cj0enk_281"><p id="cj0enk_282"><span class="control" id="cj0enk_283">R&eacute;ponse :</span> C'est un bon compromis qui permet de tester le service de mani&egrave;re isol&eacute;e (en mockant ses d&eacute;pendances) tout en b&eacute;n&eacute;ficiant de l'injection de d&eacute;pendances g&eacute;r&eacute;e par Spring, ce qui est plus simple que l'instanciation manuelle, surtout si le service a de nombreuses d&eacute;pendances.</p></li></ul></li><li class="list__item" id="cj0enk_273"><p id="cj0enk_284"><span class="control" id="cj0enk_286">&Agrave; quoi sert <code class="code" id="cj0enk_287">@MockBean</code> dans un test de service ?</span></p><ul class="list _bullet" id="cj0enk_285"><li class="list__item" id="cj0enk_288"><p id="cj0enk_289"><span class="control" id="cj0enk_290">R&eacute;ponse :</span> b) &Agrave; remplacer les d&eacute;pendances du service (comme les repositories) par des simulations contr&ocirc;l&eacute;es par Mockito.</p></li></ul></li><li class="list__item" id="cj0enk_274"><p id="cj0enk_291"><span class="control" id="cj0enk_293">Comment tester une m&eacute;thode <code class="code" id="cj0enk_294">void</code>?</span></p><ul class="list _bullet" id="cj0enk_292"><li class="list__item" id="cj0enk_295"><p id="cj0enk_296"><span class="control" id="cj0enk_297">R&eacute;ponse :</span> On ne peut pas tester sa valeur de retour. On teste donc ses <span class="control" id="cj0enk_298">effets de bord</span>: le plus souvent, on v&eacute;rifie qu'elle a bien interagi avec ses d&eacute;pendances en utilisant <code class="code" id="cj0enk_299">Mockito.verify()</code> pour s'assurer qu'une m&eacute;thode sur un mock a &eacute;t&eacute; appel&eacute;e.</p></li></ul></li><li class="list__item" id="cj0enk_275"><p id="cj0enk_300"><span class="control" id="cj0enk_302">Test unitaire &quot;pur&quot; vs. <code class="code" id="cj0enk_303">@SpringBootTest</code>?</span></p><ul class="list _bullet" id="cj0enk_301"><li class="list__item" id="cj0enk_304"><p id="cj0enk_305"><span class="control" id="cj0enk_306">R&eacute;ponse :</span> c) Le test pur n'utilise pas du tout le framework Spring pour son ex&eacute;cution, il est donc plus rapide.</p></li></ul></li><li class="list__item" id="cj0enk_276"><p id="cj0enk_307"><span class="control" id="cj0enk_309">Signification de <code class="code" id="cj0enk_310">verify(..., never())...</code>?</span></p><ul class="list _bullet" id="cj0enk_308"><li class="list__item" id="cj0enk_311"><p id="cj0enk_312"><span class="control" id="cj0enk_313">R&eacute;ponse :</span> c) La m&eacute;thode <code class="code" id="cj0enk_314">deleteById</code> n'a pas &eacute;t&eacute; appel&eacute;e du tout pendant l'ex&eacute;cution du test.</p></li></ul></li></ol></section><section class="chapter"><h2 id="chapitre-5-tests-d-int-gration-la-couche-web" data-toc="chapitre-5-tests-d-int-gration-la-couche-web">Chapitre 5 : Tests d'Int&eacute;gration : La Couche Web</h2><ol class="list _decimal" id="cj0enk_315" type="1"><li class="list__item" id="cj0enk_316"><p id="cj0enk_321"><span class="control" id="cj0enk_323">Diff&eacute;rence de contexte entre <code class="code" id="cj0enk_324">@SpringBootTest</code> et <code class="code" id="cj0enk_325">@WebMvcTest</code>?</span></p><ul class="list _bullet" id="cj0enk_322"><li class="list__item" id="cj0enk_326"><p id="cj0enk_327"><span class="control" id="cj0enk_328">R&eacute;ponse :</span> <code class="code" id="cj0enk_329">@SpringBootTest</code> charge le contexte applicatif complet (services, repositories, etc.). <code class="code" id="cj0enk_330">@WebMvcTest</code> ne charge qu'une &quot;tranche&quot; de l'application contenant la couche web (contr&ocirc;leurs, filtres, s&eacute;rialiseurs JSON) mais PAS les services ni les repositories.</p></li></ul></li><li class="list__item" id="cj0enk_317"><p id="cj0enk_331"><span class="control" id="cj0enk_333">Dans un <code class="code" id="cj0enk_334">@WebMvcTest</code>, les <code class="code" id="cj0enk_335">@Service</code> sont... ?</span></p><ul class="list _bullet" id="cj0enk_332"><li class="list__item" id="cj0enk_336"><p id="cj0enk_337"><span class="control" id="cj0enk_338">R&eacute;ponse :</span> b) Non charg&eacute;s, et doivent &ecirc;tre mock&eacute;s avec <code class="code" id="cj0enk_339">@MockBean</code> si le contr&ocirc;leur en d&eacute;pend.</p></li></ul></li><li class="list__item" id="cj0enk_318"><p id="cj0enk_340"><span class="control" id="cj0enk_342">&Agrave; quoi sert <code class="code" id="cj0enk_343">MockMvc</code>?</span></p><ul class="list _bullet" id="cj0enk_341"><li class="list__item" id="cj0enk_344"><p id="cj0enk_345"><span class="control" id="cj0enk_346">R&eacute;ponse :</span> C'est un client HTTP simul&eacute; fourni par Spring Test. Il permet d'ex&eacute;cuter des requ&ecirc;tes vers les contr&ocirc;leurs sans d&eacute;marrer de vrai serveur web. On l'obtient par injection de d&eacute;pendances (<code class="code" id="cj0enk_347">@Autowired</code>) dans une classe de test annot&eacute;e avec <code class="code" id="cj0enk_348">@WebMvcTest</code>.</p></li></ul></li><li class="list__item" id="cj0enk_319"><p id="cj0enk_349"><span class="control" id="cj0enk_351">Meilleure m&eacute;thode pour v&eacute;rifier un contenu JSON ?</span></p><ul class="list _bullet" id="cj0enk_350"><li class="list__item" id="cj0enk_352"><p id="cj0enk_353"><span class="control" id="cj0enk_354">R&eacute;ponse :</span> b) <code class="code" id="cj0enk_355">andExpect(jsonPath(&quot;$.cle&quot;, is(&quot;valeur&quot;)))</code>.</p></li></ul></li><li class="list__item" id="cj0enk_320"><p id="cj0enk_356"><span class="control" id="cj0enk_358">Que faire pour simuler un <code class="code" id="cj0enk_359">POST</code> avec JSON ?</span></p><ul class="list _bullet" id="cj0enk_357"><li class="list__item" id="cj0enk_360"><p id="cj0enk_361"><span class="control" id="cj0enk_362">R&eacute;ponse :</span> c) Utiliser la m&eacute;thode <code class="code" id="cj0enk_363">content()</code> pour fournir le JSON et d&eacute;finir le <code class="code" id="cj0enk_364">contentType</code> &agrave; <code class="code" id="cj0enk_365">MediaType.APPLICATION_JSON</code>.</p></li></ul></li></ol></section><section class="chapter"><h2 id="chapitre-6-tests-d-int-gration-la-couche-d-acc-s-aux-donn-es" data-toc="chapitre-6-tests-d-int-gration-la-couche-d-acc-s-aux-donn-es">Chapitre 6 : Tests d'Int&eacute;gration : La Couche d'Acc&egrave;s aux Donn&eacute;es</h2><ol class="list _decimal" id="cj0enk_366" type="1"><li class="list__item" id="cj0enk_367"><p id="cj0enk_372"><span class="control" id="cj0enk_374">R&ocirc;le de <code class="code" id="cj0enk_375">@DataJpaTest</code> et configurations cl&eacute;s ?</span></p><ul class="list _bullet" id="cj0enk_373"><li class="list__item" id="cj0enk_376"><p id="cj0enk_377"><span class="control" id="cj0enk_378">R&eacute;ponse :</span> Son r&ocirc;le est de tester la couche de persistance JPA en isolation. Par d&eacute;faut, il configure une base de donn&eacute;es en m&eacute;moire (H2) et ex&eacute;cute chaque test dans une transaction avec rollback automatique.</p></li></ul></li><li class="list__item" id="cj0enk_368"><p id="cj0enk_379"><span class="control" id="cj0enk_381">Utilit&eacute; du rollback automatique ?</span></p><ul class="list _bullet" id="cj0enk_380"><li class="list__item" id="cj0enk_382"><p id="cj0enk_383"><span class="control" id="cj0enk_384">R&eacute;ponse :</span> c) Pour garantir l'isolation des tests en nettoyant la base de donn&eacute;es apr&egrave;s chaque test.</p></li></ul></li><li class="list__item" id="cj0enk_369"><p id="cj0enk_385"><span class="control" id="cj0enk_387"><code class="code" id="cj0enk_388">persist()</code> vs. <code class="code" id="cj0enk_389">persistAndFlush()</code>?</span></p><ul class="list _bullet" id="cj0enk_386"><li class="list__item" id="cj0enk_390"><p id="cj0enk_391"><span class="control" id="cj0enk_392">R&eacute;ponse :</span> <code class="code" id="cj0enk_393">persist()</code> enregistre l'entit&eacute; dans le contexte de persistance, mais ne garantit pas l'ex&eacute;cution imm&eacute;diate de la requ&ecirc;te <code class="code" id="cj0enk_394">INSERT</code> en base. <code class="code" id="cj0enk_395">flush()</code> force cette synchronisation. On utilise <code class="code" id="cj0enk_396">persistAndFlush()</code> quand on a besoin de s'assurer que la donn&eacute;e est bien en base avant d'ex&eacute;cuter l'&eacute;tape suivante du test (par exemple, une lecture).</p></li></ul></li><li class="list__item" id="cj0enk_370"><p id="cj0enk_397"><span class="control" id="cj0enk_399">Beans charg&eacute;s par <code class="code" id="cj0enk_400">@DataJpaTest</code>?</span></p><ul class="list _bullet" id="cj0enk_398"><li class="list__item" id="cj0enk_401"><p id="cj0enk_402"><span class="control" id="cj0enk_403">R&eacute;ponse :</span> c) Uniquement les <code class="code" id="cj0enk_404">@Repository</code> JPA, les <code class="code" id="cj0enk_405">@Entity</code> et l'infrastructure de persistance.</p></li></ul></li><li class="list__item" id="cj0enk_371"><p id="cj0enk_406"><span class="control" id="cj0enk_408"><code class="code" id="cj0enk_409">TestEntityManager</code> est... ?</span></p><ul class="list _bullet" id="cj0enk_407"><li class="list__item" id="cj0enk_410"><p id="cj0enk_411"><span class="control" id="cj0enk_412">R&eacute;ponse :</span> c) Une classe utilitaire fournie par Spring Test pour simplifier la manipulation des entit&eacute;s JPA dans les tests.</p></li></ul></li></ol></section><section class="chapter"><h2 id="chapitre-7-tests-d-int-gration-complets" data-toc="chapitre-7-tests-d-int-gration-complets">Chapitre 7 : Tests d'Int&eacute;gration Complets</h2><ol class="list _decimal" id="cj0enk_413" type="1"><li class="list__item" id="cj0enk_414"><p id="cj0enk_419"><span class="control" id="cj0enk_421">Quand un test d'int&eacute;gration complet est-il pertinent ?</span></p><ul class="list _bullet" id="cj0enk_420"><li class="list__item" id="cj0enk_422"><p id="cj0enk_423"><span class="control" id="cj0enk_424">R&eacute;ponse :</span> Pour un sc&eacute;nario m&eacute;tier critique qui traverse plusieurs couches de l'application, comme le processus d'inscription d'un utilisateur ou le passage d'une commande.</p></li></ul></li><li class="list__item" id="cj0enk_415"><p id="cj0enk_425"><span class="control" id="cj0enk_427">Diff&eacute;rence <code class="code" id="cj0enk_428">MockMvc</code> et <code class="code" id="cj0enk_429">TestRestTemplate</code>?</span></p><ul class="list _bullet" id="cj0enk_426"><li class="list__item" id="cj0enk_430"><p id="cj0enk_431"><span class="control" id="cj0enk_432">R&eacute;ponse :</span> a) <code class="code" id="cj0enk_433">MockMvc</code> est plus rapide car il ne d&eacute;marre pas de serveur web.</p></li></ul></li><li class="list__item" id="cj0enk_416"><p id="cj0enk_434"><span class="control" id="cj0enk_436">Pourquoi <code class="code" id="cj0enk_437">RANDOM_PORT</code> est bien adapt&eacute; ?</span></p><ul class="list _bullet" id="cj0enk_435"><li class="list__item" id="cj0enk_438"><p id="cj0enk_439"><span class="control" id="cj0enk_440">R&eacute;ponse :</span> Il d&eacute;marre un vrai serveur web, ce qui permet des tests tr&egrave;s r&eacute;alistes, mais sur un port al&eacute;atoire, ce qui &eacute;vite les conflits si plusieurs processus de test s'ex&eacute;cutent en parall&egrave;le (sur un serveur de CI par exemple).</p></li></ul></li><li class="list__item" id="cj0enk_417"><p id="cj0enk_441"><span class="control" id="cj0enk_443">Pourquoi <code class="code" id="cj0enk_444">@AfterEach</code> plut&ocirc;t que <code class="code" id="cj0enk_445">@Transactional</code>?</span></p><ul class="list _bullet" id="cj0enk_442"><li class="list__item" id="cj0enk_446"><p id="cj0enk_447"><span class="control" id="cj0enk_448">R&eacute;ponse :</span> b) Parce que l'appel HTTP se fait dans une transaction s&eacute;par&eacute;e de celle du test, rendant le rollback inefficace pour ce sc&eacute;nario.</p></li></ul></li><li class="list__item" id="cj0enk_418"><p id="cj0enk_449"><span class="control" id="cj0enk_451">Objectif principal d'un test d'int&eacute;gration complet ?</span></p><ul class="list _bullet" id="cj0enk_450"><li class="list__item" id="cj0enk_452"><p id="cj0enk_453"><span class="control" id="cj0enk_454">R&eacute;ponse :</span> b) V&eacute;rifier que les composants de l'application (contr&ocirc;leur, service, repository) collaborent correctement pour un flux m&eacute;tier critique.</p></li></ul></li></ol></section><section class="chapter"><h2 id="chapitre-8-g-rer-les-d-pendances-externes-testcontainers" data-toc="chapitre-8-g-rer-les-d-pendances-externes-testcontainers">Chapitre 8 : G&eacute;rer les D&eacute;pendances Externes : Testcontainers</h2><ol class="list _decimal" id="cj0enk_455" type="1"><li class="list__item" id="cj0enk_456"><p id="cj0enk_461"><span class="control" id="cj0enk_463">Pourquoi Testcontainers est pr&eacute;f&eacute;rable &agrave; H2 ?</span></p><ul class="list _bullet" id="cj0enk_462"><li class="list__item" id="cj0enk_464"><p id="cj0enk_465"><span class="control" id="cj0enk_466">R&eacute;ponse :</span> 1) Il permet de tester contre la m&ecirc;me technologie de base de donn&eacute;es que celle utilis&eacute;e en production (haute fid&eacute;lit&eacute;), &eacute;liminant les bugs dus aux diff&eacute;rences de dialecte SQL. 2) Il est polyvalent et peut lancer n'importe quel service &quot;dockerisable&quot; (Kafka, Redis, etc.), pas seulement des bases de donn&eacute;es.</p></li></ul></li><li class="list__item" id="cj0enk_457"><p id="cj0enk_467"><span class="control" id="cj0enk_469">Annotation pour connecter dynamiquement Spring au conteneur ?</span></p><ul class="list _bullet" id="cj0enk_468"><li class="list__item" id="cj0enk_470"><p id="cj0enk_471"><span class="control" id="cj0enk_472">R&eacute;ponse :</span> b) <code class="code" id="cj0enk_473">@DynamicPropertySource</code>.</p></li></ul></li><li class="list__item" id="cj0enk_458"><p id="cj0enk_474"><span class="control" id="cj0enk_476">Que signifie rendre un <code class="code" id="cj0enk_477">@Container</code> <code class="code" id="cj0enk_478">static</code>?</span></p><ul class="list _bullet" id="cj0enk_475"><li class="list__item" id="cj0enk_479"><p id="cj0enk_480"><span class="control" id="cj0enk_481">R&eacute;ponse :</span> Cela signifie que le conteneur Docker sera d&eacute;marr&eacute; une seule fois pour toutes les m&eacute;thodes de test de la classe, puis arr&ecirc;t&eacute; &agrave; la fin. L'avantage est un gain de temps consid&eacute;rable, car le d&eacute;marrage d'un conteneur est une op&eacute;ration co&ucirc;teuse.</p></li></ul></li><li class="list__item" id="cj0enk_459"><p id="cj0enk_482"><span class="control" id="cj0enk_484">Pr&eacute;requis pour Testcontainers ?</span></p><ul class="list _bullet" id="cj0enk_483"><li class="list__item" id="cj0enk_485"><p id="cj0enk_486"><span class="control" id="cj0enk_487">R&eacute;ponse :</span> b) Avoir Docker install&eacute; et en cours d'ex&eacute;cution.</p></li></ul></li><li class="list__item" id="cj0enk_460"><p id="cj0enk_488"><span class="control" id="cj0enk_490"><code class="code" id="cj0enk_491">@AutoConfigureTestDatabase(replace = Replace.NONE)</code> sert &agrave;... ?</span></p><ul class="list _bullet" id="cj0enk_489"><li class="list__item" id="cj0enk_492"><p id="cj0enk_493"><span class="control" id="cj0enk_494">R&eacute;ponse :</span> b) Emp&ecirc;cher Spring Boot de configurer une base de donn&eacute;es en m&eacute;moire &agrave; notre place.</p></li></ul></li></ol></section><section class="chapter"><h2 id="chapitre-9-tester-la-s-curit-avec-spring-security" data-toc="chapitre-9-tester-la-s-curit-avec-spring-security">Chapitre 9 : Tester la S&eacute;curit&eacute; avec Spring Security</h2><ol class="list _decimal" id="cj0enk_495" type="1"><li class="list__item" id="cj0enk_496"><p id="cj0enk_501"><span class="control" id="cj0enk_503">Pourquoi un test &eacute;choue apr&egrave;s ajout de Spring Security ?</span></p><ul class="list _bullet" id="cj0enk_502"><li class="list__item" id="cj0enk_504"><p id="cj0enk_505"><span class="control" id="cj0enk_506">R&eacute;ponse :</span> Parce que Spring Security prot&egrave;ge par d&eacute;faut tous les endpoints. La requ&ecirc;te de test, n'&eacute;tant pas authentifi&eacute;e, se voit refuser l'acc&egrave;s avec un statut <code class="code" id="cj0enk_507">401 Unauthorized</code>.</p></li></ul></li><li class="list__item" id="cj0enk_497"><p id="cj0enk_508"><span class="control" id="cj0enk_510">Annotation pour simuler un utilisateur admin ?</span></p><ul class="list _bullet" id="cj0enk_509"><li class="list__item" id="cj0enk_511"><p id="cj0enk_512"><span class="control" id="cj0enk_513">R&eacute;ponse :</span> c) <code class="code" id="cj0enk_514">@WithMockUser(username=&quot;admin&quot;, roles=&quot;ADMIN&quot;)</code>.</p></li></ul></li><li class="list__item" id="cj0enk_498"><p id="cj0enk_515"><span class="control" id="cj0enk_517">Diff&eacute;rence entre non authentifi&eacute; et non autoris&eacute; ?</span></p><ul class="list _bullet" id="cj0enk_516"><li class="list__item" id="cj0enk_518"><p id="cj0enk_519"><span class="control" id="cj0enk_520">R&eacute;ponse :</span> Un utilisateur <span class="control" id="cj0enk_521">non authentifi&eacute;</span> n'a fourni aucune identit&eacute; valide (r&eacute;sultat : <code class="code" id="cj0enk_522">401 Unauthorized</code>). Un utilisateur <span class="control" id="cj0enk_523">non autoris&eacute;</span> est bien identifi&eacute; (authentifi&eacute;), mais son identit&eacute; (ses r&ocirc;les/permissions) ne lui donne pas le droit d'acc&eacute;der &agrave; la ressource (r&eacute;sultat : <code class="code" id="cj0enk_524">403 Forbidden</code>).</p></li></ul></li><li class="list__item" id="cj0enk_499"><p id="cj0enk_525"><span class="control" id="cj0enk_527">Pourquoi <code class="code" id="cj0enk_528">@Import(SecurityConfig.class)</code>?</span></p><ul class="list _bullet" id="cj0enk_526"><li class="list__item" id="cj0enk_529"><p id="cj0enk_530"><span class="control" id="cj0enk_531">R&eacute;ponse :</span> b) Pour charger les r&egrave;gles de s&eacute;curit&eacute; (<code class="code" id="cj0enk_532">authorizeHttpRequests</code>, etc.) qui ne sont pas charg&eacute;es par d&eacute;faut dans ce type de test en tranche.</p></li></ul></li><li class="list__item" id="cj0enk_500"><p id="cj0enk_533"><span class="control" id="cj0enk_535">Un statut <code class="code" id="cj0enk_536">403 Forbidden</code> signifie... ?</span></p><ul class="list _bullet" id="cj0enk_534"><li class="list__item" id="cj0enk_537"><p id="cj0enk_538"><span class="control" id="cj0enk_539">R&eacute;ponse :</span> b) Le serveur a compris la requ&ecirc;te, mais refuse de l'autoriser car le client n'a pas les droits n&eacute;cessaires.</p></li></ul></li></ol></section><section class="chapter"><h2 id="chapitre-10-tests-asynchrones-et-r-actifs" data-toc="chapitre-10-tests-asynchrones-et-r-actifs">Chapitre 10 : Tests Asynchrones et R&eacute;actifs</h2><ol class="list _decimal" id="cj0enk_540" type="1"><li class="list__item" id="cj0enk_541"><p id="cj0enk_546"><span class="control" id="cj0enk_548">Probl&egrave;me du test d'une m&eacute;thode <code class="code" id="cj0enk_549">@Async</code>?</span></p><ul class="list _bullet" id="cj0enk_547"><li class="list__item" id="cj0enk_550"><p id="cj0enk_551"><span class="control" id="cj0enk_552">R&eacute;ponse :</span> La m&eacute;thode de test continue son ex&eacute;cution sans attendre la fin du traitement asynchrone. L'assertion est donc ex&eacute;cut&eacute;e trop t&ocirc;t, avant que le r&eacute;sultat ne soit disponible, provoquant l'&eacute;chec du test.</p></li></ul></li><li class="list__item" id="cj0enk_542"><p id="cj0enk_553"><span class="control" id="cj0enk_555">Biblioth&egrave;que pour tester les processus asynchrones ?</span></p><ul class="list _bullet" id="cj0enk_554"><li class="list__item" id="cj0enk_556"><p id="cj0enk_557"><span class="control" id="cj0enk_558">R&eacute;ponse :</span> c) Awaitility.</p></li></ul></li><li class="list__item" id="cj0enk_543"><p id="cj0enk_559"><span class="control" id="cj0enk_561">Diff&eacute;rence <code class="code" id="cj0enk_562">Mono</code> vs. <code class="code" id="cj0enk_563">Flux</code>?</span></p><ul class="list _bullet" id="cj0enk_560"><li class="list__item" id="cj0enk_564"><p id="cj0enk_565"><span class="control" id="cj0enk_566">R&eacute;ponse :</span> Un <code class="code" id="cj0enk_567">Mono</code> est un flux r&eacute;actif qui repr&eacute;sente 0 ou 1 &eacute;l&eacute;ment. Un <code class="code" id="cj0enk_568">Flux</code> repr&eacute;sente 0 &agrave; N &eacute;l&eacute;ments.</p></li></ul></li><li class="list__item" id="cj0enk_544"><p id="cj0enk_569"><span class="control" id="cj0enk_571">Pour tester des endpoints WebFlux, on utilise... ?</span></p><ul class="list _bullet" id="cj0enk_570"><li class="list__item" id="cj0enk_572"><p id="cj0enk_573"><span class="control" id="cj0enk_574">R&eacute;ponse :</span> c) <code class="code" id="cj0enk_575">WebTestClient</code>.</p></li></ul></li><li class="list__item" id="cj0enk_545"><p id="cj0enk_576"><span class="control" id="cj0enk_578"><code class="code" id="cj0enk_579">StepVerifier</code> est utilis&eacute; pour... ?</span></p><ul class="list _bullet" id="cj0enk_577"><li class="list__item" id="cj0enk_580"><p id="cj0enk_581"><span class="control" id="cj0enk_582">R&eacute;ponse :</span> b) V&eacute;rifier chaque &eacute;v&eacute;nement (&eacute;mission d'&eacute;l&eacute;ment, compl&eacute;tion, erreur) dans un <code class="code" id="cj0enk_583">Mono</code> ou un <code class="code" id="cj0enk_584">Flux</code>.</p></li></ul></li></ol></section><section class="chapter"><h2 id="chapitre-11-bonnes-pratiques-et-strat-gies-avanc-es" data-toc="chapitre-11-bonnes-pratiques-et-strat-gies-avanc-es">Chapitre 11 : Bonnes Pratiques et Strat&eacute;gies Avanc&eacute;es</h2><section class="chapter"><h3 id="partie-1-l-essentiel" data-toc="partie-1-l-essentiel">Partie 1 : L'essentiel</h3><ol class="list _decimal" id="cj0enk_587" type="1"><li class="list__item" id="cj0enk_588"><p id="cj0enk_593"><span class="control" id="cj0enk_595">Convention <code class="code" id="cj0enk_596">method_should_when</code>?</span></p><ul class="list _bullet" id="cj0enk_594"><li class="list__item" id="cj0enk_597"><p id="cj0enk_598"><span class="control" id="cj0enk_599">R&eacute;ponse :</span> C'est une convention de nommage qui rend le test auto-document&eacute;. Elle d&eacute;crit la m&eacute;thode test&eacute;e (<code class="code" id="cj0enk_600">method</code>), le r&eacute;sultat attendu (<code class="code" id="cj0enk_601">should...</code>) et les conditions dans lesquelles ce r&eacute;sultat se produit (<code class="code" id="cj0enk_602">when...</code>).</p></li></ul></li><li class="list__item" id="cj0enk_589"><p id="cj0enk_603"><span class="control" id="cj0enk_605">&quot;Test Data Builder&quot; est utilis&eacute; pour... ?</span></p><ul class="list _bullet" id="cj0enk_604"><li class="list__item" id="cj0enk_606"><p id="cj0enk_607"><span class="control" id="cj0enk_608">R&eacute;ponse :</span> c) Simplifier la cr&eacute;ation d'objets de test complexes et am&eacute;liorer la lisibilit&eacute; des tests.</p></li></ul></li><li class="list__item" id="cj0enk_590"><p id="cj0enk_609"><span class="control" id="cj0enk_611">Couverture de 95% : qu'est-ce que cela signifie/ne signifie pas ?</span></p><ul class="list _bullet" id="cj0enk_610"><li class="list__item" id="cj0enk_612"><p id="cj0enk_613"><span class="control" id="cj0enk_614">R&eacute;ponse :</span> Cela signifie que 95% des lignes du code de production ont &eacute;t&eacute; ex&eacute;cut&eacute;es par les tests. Cela <span class="control" id="cj0enk_615">ne signifie pas</span> que le code est correct &agrave; 95% ou que les 95% des fonctionnalit&eacute;s sont bien test&eacute;es (les assertions pourraient &ecirc;tre faibles ou inexistantes).</p></li></ul></li><li class="list__item" id="cj0enk_591"><p id="cj0enk_616"><span class="control" id="cj0enk_618">Principe DRY ?</span></p><ul class="list _bullet" id="cj0enk_617"><li class="list__item" id="cj0enk_619"><p id="cj0enk_620"><span class="control" id="cj0enk_621">R&eacute;ponse :</span> b) Don't Repeat Yourself - &Eacute;viter la duplication de code.</p></li></ul></li><li class="list__item" id="cj0enk_592"><p id="cj0enk_622"><span class="control" id="cj0enk_624">Organisation des packages de test ?</span></p><ul class="list _bullet" id="cj0enk_623"><li class="list__item" id="cj0enk_625"><p id="cj0enk_626"><span class="control" id="cj0enk_627">R&eacute;ponse :</span> b) Cr&eacute;er une structure de packages qui refl&egrave;te celle du code source.</p></li></ul></li></ol></section><section class="chapter"><h3 id="partie-2-pour-aller-plus-loin" data-toc="partie-2-pour-aller-plus-loin">Partie 2 : Pour aller plus loin</h3><ol class="list _decimal" id="cj0enk_628" type="1"><li class="list__item" id="cj0enk_629"><p id="cj0enk_634"><span class="control" id="cj0enk_636">Cycle &quot;Rouge-Vert-Refactor&quot; ?</span></p><ul class="list _bullet" id="cj0enk_635"><li class="list__item" id="cj0enk_637"><p id="cj0enk_638"><span class="control" id="cj0enk_639">R&eacute;ponse :</span> C'est le cycle de d&eacute;veloppement du TDD : 1) <span class="control" id="cj0enk_640">Rouge</span>: &Eacute;crire un test qui &eacute;choue. 2) <span class="control" id="cj0enk_641">Vert</span>: &Eacute;crire le minimum de code pour que le test passe. 3) <span class="control" id="cj0enk_642">Refactor</span>: Am&eacute;liorer le code tout en gardant le test au vert.</p></li></ul></li><li class="list__item" id="cj0enk_630"><p id="cj0enk_643"><span class="control" id="cj0enk_645">&Eacute;nonc&eacute; qui d&eacute;crit le mieux le BDD ?</span></p><ul class="list _bullet" id="cj0enk_644"><li class="list__item" id="cj0enk_646"><p id="cj0enk_647"><span class="control" id="cj0enk_648">R&eacute;ponse :</span> b) Une m&eacute;thodologie de d&eacute;veloppement ax&eacute;e sur la collaboration et la d&eacute;finition partag&eacute;e du comportement attendu.</p></li></ul></li><li class="list__item" id="cj0enk_631"><p id="cj0enk_649"><span class="control" id="cj0enk_651">Avantage d'une classe de base de test ?</span></p><ul class="list _bullet" id="cj0enk_650"><li class="list__item" id="cj0enk_652"><p id="cj0enk_653"><span class="control" id="cj0enk_654">R&eacute;ponse :</span> Elle permet de centraliser la configuration de test commune (comme la d&eacute;claration d'un conteneur Testcontainers) pour &eacute;viter de la dupliquer dans de nombreuses classes de test (principe DRY).</p></li></ul></li><li class="list__item" id="cj0enk_632"><p id="cj0enk_655"><span class="control" id="cj0enk_657">Objectif de l'Int&eacute;gration Continue (CI) ?</span></p><ul class="list _bullet" id="cj0enk_656"><li class="list__item" id="cj0enk_658"><p id="cj0enk_659"><span class="control" id="cj0enk_660">R&eacute;ponse :</span> c) D&eacute;tecter les probl&egrave;mes d'int&eacute;gration et les r&eacute;gressions le plus t&ocirc;t possible en construisant et testant le code fr&eacute;quemment.</p></li></ul></li><li class="list__item" id="cj0enk_633"><p id="cj0enk_661"><span class="control" id="cj0enk_663">Un &quot;mutant qui survit&quot; signifie... ?</span></p><ul class="list _bullet" id="cj0enk_662"><li class="list__item" id="cj0enk_664"><p id="cj0enk_665"><span class="control" id="cj0enk_666">R&eacute;ponse :</span> c) La modification apport&eacute;e au code n'a &eacute;t&eacute; d&eacute;tect&eacute;e par aucun test, r&eacute;v&eacute;lant une faiblesse dans la suite de tests.</p></li></ul></li></ol></section></section><section class="chapter"><h2 id="chapitre-12-conclusion-et-aller-plus-loin" data-toc="chapitre-12-conclusion-et-aller-plus-loin">Chapitre 12 : Conclusion et Aller Plus Loin</h2><ol class="list _decimal" id="cj0enk_667" type="1"><li class="list__item" id="cj0enk_668"><p id="cj0enk_673"><span class="emphasis" id="cj0enk_674">(R&eacute;ponse personnelle)</span></p></li><li class="list__item" id="cj0enk_669"><p id="cj0enk_675"><span class="control" id="cj0enk_677">O&ugrave; se situent les tests E2E avec Cypress ?</span></p><ul class="list _bullet" id="cj0enk_676"><li class="list__item" id="cj0enk_678"><p id="cj0enk_679"><span class="control" id="cj0enk_680">R&eacute;ponse :</span> c) Au sommet, car ils sont lents, co&ucirc;teux mais tr&egrave;s r&eacute;alistes.</p></li></ul></li><li class="list__item" id="cj0enk_670"><p id="cj0enk_681"><span class="control" id="cj0enk_683">B&eacute;n&eacute;fice principal du TDD ?</span></p><ul class="list _bullet" id="cj0enk_682"><li class="list__item" id="cj0enk_684"><p id="cj0enk_685"><span class="control" id="cj0enk_686">R&eacute;ponse :</span> Le TDD produit un code naturellement testable et fournit un filet de s&eacute;curit&eacute; complet contre les r&eacute;gressions. (Ou : Il utilise les tests pour guider la conception du logiciel).</p></li></ul></li><li class="list__item" id="cj0enk_671"><p id="cj0enk_687"><span class="control" id="cj0enk_689">CI vise &agrave;... ?</span></p><ul class="list _bullet" id="cj0enk_688"><li class="list__item" id="cj0enk_690"><p id="cj0enk_691"><span class="control" id="cj0enk_692">R&eacute;ponse :</span> b) Int&eacute;grer et tester le code de mani&egrave;re fr&eacute;quente et automatis&eacute;e pour d&eacute;tecter les probl&egrave;mes rapidement.</p></li></ul></li><li class="list__item" id="cj0enk_672"><p id="cj0enk_693"><span class="control" id="cj0enk_695">Outil pour tester contre une BDD en conteneur ?</span></p><ul class="list _bullet" id="cj0enk_694"><li class="list__item" id="cj0enk_696"><p id="cj0enk_697"><span class="control" id="cj0enk_698">R&eacute;ponse :</span> c) Testcontainers.</p></li></ul></li></ol></section><div class="last-modified">16 juin 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="0012-00-conclusion.html" class="navigation-links__prev">Chapitre 12 : Conclusion et Aller Plus Loin</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>