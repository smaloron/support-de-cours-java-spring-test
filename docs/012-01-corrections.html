<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-07-30T07:02:54.849768"><title>Corrections des Auto-&eacute;valuations | Java Spring Test</title><script type="application/json" id="virtual-toc-data">[{"id":"chapitre-1-introduction-aux-tests-logiciels","level":0,"title":"Chapitre 1 : Introduction aux Tests Logiciels","anchor":"#chapitre-1-introduction-aux-tests-logiciels"},{"id":"chapitre-2-outils-de-base-pour-les-tests-en-java","level":0,"title":"Chapitre 2 : Outils de Base pour les Tests en Java","anchor":"#chapitre-2-outils-de-base-pour-les-tests-en-java"},{"id":"chapitre-3-introduction-aux-tests-avec-spring-boot","level":0,"title":"Chapitre 3 : Introduction aux Tests avec Spring Boot","anchor":"#chapitre-3-introduction-aux-tests-avec-spring-boot"},{"id":"chapitre-4-tests-unitaires-des-composants-spring","level":0,"title":"Chapitre 4 : Tests Unitaires des Composants Spring","anchor":"#chapitre-4-tests-unitaires-des-composants-spring"},{"id":"chapitre-5-tests-d-int-gration-la-couche-web","level":0,"title":"Chapitre 5 : Tests d\u0027Intégration : La Couche Web","anchor":"#chapitre-5-tests-d-int-gration-la-couche-web"},{"id":"chapitre-6-tests-d-int-gration-la-couche-d-acc-s-aux-donn-es","level":0,"title":"Chapitre 6 : Tests d\u0027Intégration : La Couche d\u0027Accès aux Données","anchor":"#chapitre-6-tests-d-int-gration-la-couche-d-acc-s-aux-donn-es"},{"id":"chapitre-7-tests-d-int-gration-complets","level":0,"title":"Chapitre 7 : Tests d\u0027Intégration Complets","anchor":"#chapitre-7-tests-d-int-gration-complets"},{"id":"chapitre-8-g-rer-les-d-pendances-externes-testcontainers","level":0,"title":"Chapitre 8 : Gérer les Dépendances Externes : Testcontainers","anchor":"#chapitre-8-g-rer-les-d-pendances-externes-testcontainers"},{"id":"chapitre-9-tester-la-s-curit-avec-spring-security","level":0,"title":"Chapitre 9 : Tester la Sécurité avec Spring Security","anchor":"#chapitre-9-tester-la-s-curit-avec-spring-security"},{"id":"chapitre-10-tests-asynchrones-et-r-actifs","level":0,"title":"Chapitre 10 : Tests Asynchrones et Réactifs","anchor":"#chapitre-10-tests-asynchrones-et-r-actifs"},{"id":"chapitre-11-bonnes-pratiques-et-strat-gies-avanc-es","level":0,"title":"Chapitre 11 : Bonnes Pratiques et Stratégies Avancées","anchor":"#chapitre-11-bonnes-pratiques-et-strat-gies-avanc-es"},{"id":"chapitre-12-conclusion-et-aller-plus-loin","level":0,"title":"Chapitre 12 : Conclusion et Aller Plus Loin","anchor":"#chapitre-12-conclusion-et-aller-plus-loin"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Corrections des Auto-&eacute;valuations | Java Spring Test"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Java Spring Test Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/012-01-corrections.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Corrections des Auto-&eacute;valuations | Java Spring Test"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/012-01-corrections.html#webpage",
    "url": "writerside-documentation/012-01-corrections.html",
    "name": "Corrections des Auto-&eacute;valuations | Java Spring Test",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Java Spring Test Help"
}</script><!-- End Schema.org --></head><body data-id="012-01-corrections" data-main-title="Corrections des Auto-évaluations" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="0012-00-conclusion.md|Chapitre 12 : Conclusion et Aller Plus Loin"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Java Spring Test  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="012-01-corrections" id="012-01-corrections.md">Corrections des Auto-évaluations</h1><section class="chapter"><h2 id="chapitre-1-introduction-aux-tests-logiciels" data-toc="chapitre-1-introduction-aux-tests-logiciels">Chapitre 1 : Introduction aux Tests Logiciels</h2><section class="chapter"><h3 id="partie-1-l-essentiel_1" data-toc="partie-1-l-essentiel_1">Partie 1 : L'essentiel</h3><ol class="list _decimal" id="-lrfv65_17" type="1"><li class="list__item" id="-lrfv65_18"><p id="-lrfv65_23"><span class="control" id="-lrfv65_25">Qu'est-ce qu'une &quot;r&eacute;gression&quot; ?</span></p><ul class="list _bullet" id="-lrfv65_24"><li class="list__item" id="-lrfv65_26"><p id="-lrfv65_27"><span class="control" id="-lrfv65_28">R&eacute;ponse :</span> Une r&eacute;gression est un bug qui appara&icirc;t dans une fonctionnalit&eacute; existante et qui fonctionnait correctement, suite &agrave; une modification du code (ajout d'une nouvelle fonctionnalit&eacute;, correction d'un autre bug, etc.). Les tests automatis&eacute;s aident &agrave; la pr&eacute;venir en constituant un filet de s&eacute;curit&eacute; qui re-valide l'ensemble des fonctionnalit&eacute;s de l'application apr&egrave;s chaque changement, d&eacute;tectant ainsi imm&eacute;diatement les effets de bord ind&eacute;sirables.</p></li></ul></li><li class="list__item" id="-lrfv65_19"><p id="-lrfv65_29"><span class="control" id="-lrfv65_31">'I' dans F.I.R.S.T. ?</span></p><ul class="list _bullet" id="-lrfv65_30"><li class="list__item" id="-lrfv65_32"><p id="-lrfv65_33"><span class="control" id="-lrfv65_34">R&eacute;ponse :</span> c) Ind&eacute;pendant. Chaque test doit pouvoir s'ex&eacute;cuter seul, sans d&eacute;pendre de l'&eacute;tat laiss&eacute; par un test pr&eacute;c&eacute;dent.</p></li></ul></li><li class="list__item" id="-lrfv65_20"><p id="-lrfv65_35"><span class="control" id="-lrfv65_37">Diff&eacute;rence entre test unitaire et test d'int&eacute;gration ?</span></p><ul class="list _bullet" id="-lrfv65_36"><li class="list__item" id="-lrfv65_38"><p id="-lrfv65_39"><span class="control" id="-lrfv65_40">R&eacute;ponse :</span> Le test unitaire v&eacute;rifie une seule unit&eacute; de code (une classe, une m&eacute;thode) de mani&egrave;re totalement isol&eacute;e de ses d&eacute;pendances (qui sont mock&eacute;es). Le test d'int&eacute;gration, lui, v&eacute;rifie la collaboration et l'interaction entre plusieurs composants (par exemple, un contr&ocirc;leur, un service et un repository qui dialogue avec une base de donn&eacute;es).</p></li></ul></li><li class="list__item" id="-lrfv65_21"><p id="-lrfv65_41"><span class="control" id="-lrfv65_43">Bug le plus co&ucirc;teux &agrave; corriger ?</span></p><ul class="list _bullet" id="-lrfv65_42"><li class="list__item" id="-lrfv65_44"><p id="-lrfv65_45"><span class="control" id="-lrfv65_46">R&eacute;ponse :</span> c) Apr&egrave;s le d&eacute;ploiement en production, lorsqu'il est trouv&eacute; par un client.</p></li></ul></li><li class="list__item" id="-lrfv65_22"><p id="-lrfv65_47"><span class="control" id="-lrfv65_49">But du &quot;Red-Green-Refactor&quot; ?</span></p><ul class="list _bullet" id="-lrfv65_48"><li class="list__item" id="-lrfv65_50"><p id="-lrfv65_51"><span class="control" id="-lrfv65_52">R&eacute;ponse :</span> b) Laisser les tests guider la conception et l'&eacute;criture du code.</p></li></ul></li></ol></section><section class="chapter"><h3 id="partie-2-pour-aller-plus-loin_1" data-toc="partie-2-pour-aller-plus-loin_1">Partie 2 : Pour aller plus loin</h3><ol class="list _decimal" id="-lrfv65_53" type="1"><li class="list__item" id="-lrfv65_54"><p id="-lrfv65_59"><span class="control" id="-lrfv65_61">Qu'est-ce que le &quot;Shift Left Testing&quot; ?</span></p><ul class="list _bullet" id="-lrfv65_60"><li class="list__item" id="-lrfv65_62"><p id="-lrfv65_63"><span class="control" id="-lrfv65_64">R&eacute;ponse :</span> C'est la pratique qui consiste &agrave; int&eacute;grer les activit&eacute;s de test le plus t&ocirc;t possible dans le cycle de d&eacute;veloppement. Un exemple concret est la tenue d'un atelier BDD (<code class="code" id="-lrfv65_65">Given-When-Then</code>) avec le Product Owner avant m&ecirc;me d'&eacute;crire la premi&egrave;re ligne de code.</p></li></ul></li><li class="list__item" id="-lrfv65_55"><p id="-lrfv65_66"><span class="control" id="-lrfv65_68">Mod&egrave;le favorisant les tests d'int&eacute;gration ?</span></p><ul class="list _bullet" id="-lrfv65_67"><li class="list__item" id="-lrfv65_69"><p id="-lrfv65_70"><span class="control" id="-lrfv65_71">R&eacute;ponse :</span> c) Le Troph&eacute;e des Tests (Testing Trophy).</p></li></ul></li><li class="list__item" id="-lrfv65_56"><p id="-lrfv65_72"><span class="control" id="-lrfv65_74">Diff&eacute;rence de &quot;public&quot; entre TDD et BDD ?</span></p><ul class="list _bullet" id="-lrfv65_73"><li class="list__item" id="-lrfv65_75"><p id="-lrfv65_76"><span class="control" id="-lrfv65_77">R&eacute;ponse :</span> Le TDD est une discipline pour le d&eacute;veloppeur (une conversation technique sur &quot;comment bien construire le code&quot;). Le BDD est un processus de collaboration pour toute l'&eacute;quipe, y compris les non-techniciens (une conversation m&eacute;tier sur &quot;construisons-nous la bonne chose ?&quot;).</p></li></ul></li><li class="list__item" id="-lrfv65_57"><p id="-lrfv65_78"><span class="control" id="-lrfv65_80">Exemple de test non fonctionnel ?</span></p><ul class="list _bullet" id="-lrfv65_79"><li class="list__item" id="-lrfv65_81"><p id="-lrfv65_82"><span class="control" id="-lrfv65_83">R&eacute;ponse :</span> c) Un test qui mesure le temps de r&eacute;ponse de la page d'accueil avec 500 utilisateurs connect&eacute;s ( c'est un test de performance).</p></li></ul></li><li class="list__item" id="-lrfv65_58"><p id="-lrfv65_84"><span class="control" id="-lrfv65_86">Syntaxe <code class="code" id="-lrfv65_87">Given-When-Then</code>?</span></p><ul class="list _bullet" id="-lrfv65_85"><li class="list__item" id="-lrfv65_88"><p id="-lrfv65_89"><span class="control" id="-lrfv65_90">R&eacute;ponse :</span> c) BDD (Behavior-Driven Development).</p></li></ul></li></ol></section></section><section class="chapter"><h2 id="chapitre-2-outils-de-base-pour-les-tests-en-java" data-toc="chapitre-2-outils-de-base-pour-les-tests-en-java">Chapitre 2 : Outils de Base pour les Tests en Java</h2><section class="chapter"><h3 id="partie-1-l-essentiel_2" data-toc="partie-1-l-essentiel_2">Partie 1 : L'essentiel</h3><ol class="list _decimal" id="-lrfv65_93" type="1"><li class="list__item" id="-lrfv65_94"><p id="-lrfv65_99"><span class="control" id="-lrfv65_101">&Agrave; quoi sert <code class="code" id="-lrfv65_102">@BeforeEach</code>?</span></p><ul class="list _bullet" id="-lrfv65_100"><li class="list__item" id="-lrfv65_103"><p id="-lrfv65_104"><span class="control" id="-lrfv65_105">R&eacute;ponse :</span> C'est une annotation JUnit 5 qui marque une m&eacute;thode devant &ecirc;tre ex&eacute;cut&eacute;e <span class="control" id="-lrfv65_106">avant chaque</span> test (<code class="code" id="-lrfv65_107">@Test</code>) de la classe. C'est id&eacute;al pour initialiser ou r&eacute;initialiser un &eacute;tat commun avant chaque test.</p></li></ul></li><li class="list__item" id="-lrfv65_95"><p id="-lrfv65_108"><span class="control" id="-lrfv65_110">Qu'est-ce qu'un &quot;mock&quot; ?</span></p><ul class="list _bullet" id="-lrfv65_109"><li class="list__item" id="-lrfv65_111"><p id="-lrfv65_112"><span class="control" id="-lrfv65_113">R&eacute;ponse :</span> b) Un objet factice qui simule le comportement d'une d&eacute;pendance pour isoler le code test&eacute;.</p></li></ul></li><li class="list__item" id="-lrfv65_96"><p id="-lrfv65_114"><span class="control" id="-lrfv65_116">Avantage d'AssertJ ?</span></p><ul class="list _bullet" id="-lrfv65_115"><li class="list__item" id="-lrfv65_117"><p id="-lrfv65_118"><span class="control" id="-lrfv65_119">R&eacute;ponse :</span> Son principal avantage est sa syntaxe &quot;fluide&quot; qui permet d'&eacute;crire des assertions tr&egrave;s lisibles ( proches d'une phrase en anglais) et de les cha&icirc;ner, rendant les tests plus expressifs et plus puissants.</p></li></ul></li><li class="list__item" id="-lrfv65_97"><p id="-lrfv65_120"><span class="control" id="-lrfv65_122">Annotation pour des tests avec plusieurs jeux de donn&eacute;es ?</span></p><ul class="list _bullet" id="-lrfv65_121"><li class="list__item" id="-lrfv65_123"><p id="-lrfv65_124"><span class="control" id="-lrfv65_125">R&eacute;ponse :</span> d) <code class="code" id="-lrfv65_126">@ParameterizedTest</code>.</p></li></ul></li><li class="list__item" id="-lrfv65_98"><p id="-lrfv65_127"><span class="control" id="-lrfv65_129">Syntaxe de &quot;stubbing&quot; Mockito ?</span></p><ul class="list _bullet" id="-lrfv65_128"><li class="list__item" id="-lrfv65_130"><p id="-lrfv65_131"><span class="control" id="-lrfv65_132">R&eacute;ponse :</span> b) <code class="code" id="-lrfv65_133">when(mock.method()).thenReturn(&quot;value&quot;)</code>.</p></li></ul></li></ol></section><section class="chapter"><h3 id="partie-2-pour-aller-plus-loin_2" data-toc="partie-2-pour-aller-plus-loin_2">Partie 2 : Pour aller plus loin</h3><ol class="list _decimal" id="-lrfv65_134" type="1"><li class="list__item" id="-lrfv65_135"><p id="-lrfv65_140"><span class="control" id="-lrfv65_142">Quand utiliser un <code class="code" id="-lrfv65_143">@Spy</code>?</span></p><ul class="list _bullet" id="-lrfv65_141"><li class="list__item" id="-lrfv65_144"><p id="-lrfv65_145"><span class="control" id="-lrfv65_146">R&eacute;ponse :</span> Un <code class="code" id="-lrfv65_147">@Spy</code> s'utilise (rarement) quand on a besoin de tester une m&eacute;thode d'un objet r&eacute;el tout en conservant le comportement original de ses autres m&eacute;thodes. Le risque est que l'appel &agrave; une m&eacute;thode non-stubb&eacute;e ex&eacute;cute du code r&eacute;el potentiellement complexe ou avec des effets de bord. C'est souvent le signe d'une classe qui m&eacute;riterait d'&ecirc;tre refactoris&eacute;e.</p></li></ul></li><li class="list__item" id="-lrfv65_136"><p id="-lrfv65_148"><span class="control" id="-lrfv65_150">Utilit&eacute; de <code class="code" id="-lrfv65_151">ArgumentCaptor</code>?</span></p><ul class="list _bullet" id="-lrfv65_149"><li class="list__item" id="-lrfv65_152"><p id="-lrfv65_153"><span class="control" id="-lrfv65_154">R&eacute;ponse :</span> b) Capturer et inspecter les valeurs des arguments pass&eacute;s &agrave; une m&eacute;thode d'un mock.</p></li></ul></li><li class="list__item" id="-lrfv65_137"><p id="-lrfv65_155"><span class="control" id="-lrfv65_157">Avantage des &quot;soft assertions&quot; ?</span></p><ul class="list _bullet" id="-lrfv65_156"><li class="list__item" id="-lrfv65_158"><p id="-lrfv65_159"><span class="control" id="-lrfv65_160">R&eacute;ponse :</span> Elles permettent de rapporter toutes les erreurs d'assertion au sein d'un bloc de test, au lieu de s'arr&ecirc;ter &agrave; la premi&egrave;re. C'est tr&egrave;s utile pour valider plusieurs propri&eacute;t&eacute;s d'un m&ecirc;me objet en une seule fois.</p></li></ul></li><li class="list__item" id="-lrfv65_138"><p id="-lrfv65_161"><span class="control" id="-lrfv65_163">Annotation pour organiser les tests en groupes ?</span></p><ul class="list _bullet" id="-lrfv65_162"><li class="list__item" id="-lrfv65_164"><p id="-lrfv65_165"><span class="control" id="-lrfv65_166">R&eacute;ponse :</span> d) L'annotation <code class="code" id="-lrfv65_167">@Nested</code> sur des classes internes.</p></li></ul></li><li class="list__item" id="-lrfv65_139"><p id="-lrfv65_168"><span class="control" id="-lrfv65_170">Tester une exception sur une m&eacute;thode <code class="code" id="-lrfv65_171">void</code>?</span></p><ul class="list _bullet" id="-lrfv65_169"><li class="list__item" id="-lrfv65_172"><p id="-lrfv65_173"><span class="control" id="-lrfv65_174">R&eacute;ponse :</span> c) <code class="code" id="-lrfv65_175">doThrow(new MyException()).when(mock).voidMethod();</code>.</p></li></ul></li></ol></section></section><section class="chapter"><h2 id="chapitre-3-introduction-aux-tests-avec-spring-boot" data-toc="chapitre-3-introduction-aux-tests-avec-spring-boot">Chapitre 3 : Introduction aux Tests avec Spring Boot</h2><section class="chapter"><h3 id="partie-1-l-essentiel_3" data-toc="partie-1-l-essentiel_3">Partie 1 : L'essentiel</h3><ol class="list _decimal" id="-lrfv65_178" type="1"><li class="list__item" id="-lrfv65_179"><p id="-lrfv65_184"><span class="control" id="-lrfv65_186">Diff&eacute;rence entre <code class="code" id="-lrfv65_187">@Mock</code> et <code class="code" id="-lrfv65_188">@MockBean</code>?</span></p><ul class="list _bullet" id="-lrfv65_185"><li class="list__item" id="-lrfv65_189"><p id="-lrfv65_190"><span class="control" id="-lrfv65_191">R&eacute;ponse :</span> <code class="code" id="-lrfv65_192">@Mock</code> (de Mockito) cr&eacute;e un simple mock que vous devez g&eacute;rer et injecter manuellement. <code class="code" id="-lrfv65_193">@MockBean</code> (de Spring) cr&eacute;e un mock et remplace le bean correspondant directement dans le contexte d'application Spring pour la dur&eacute;e du test.</p></li></ul></li><li class="list__item" id="-lrfv65_180"><p id="-lrfv65_194"><span class="control" id="-lrfv65_196"><code class="code" id="-lrfv65_197">spring-boot-starter-test</code> inclut-il... ?</span></p><ul class="list _bullet" id="-lrfv65_195"><li class="list__item" id="-lrfv65_198"><p id="-lrfv65_199"><span class="control" id="-lrfv65_200">R&eacute;ponse :</span> c) Un ensemble de biblioth&egrave;ques incluant Spring Test, JUnit 5, Mockito et AssertJ.</p></li></ul></li><li class="list__item" id="-lrfv65_181"><p id="-lrfv65_201"><span class="control" id="-lrfv65_203">Comment utiliser une base H2 pour les tests ?</span></p><ul class="list _bullet" id="-lrfv65_202"><li class="list__item" id="-lrfv65_204"><p id="-lrfv65_205"><span class="control" id="-lrfv65_206">R&eacute;ponse :</span> La mani&egrave;re la plus simple est de cr&eacute;er un fichier <code class="code" id="-lrfv65_207">src/test/resources/application-test.properties</code> ( ou <code class="code" id="-lrfv65_208">.yml</code>) et d'y d&eacute;finir la configuration de la datasource pour qu'elle pointe vers H2.</p></li></ul></li><li class="list__item" id="-lrfv65_182"><p id="-lrfv65_209"><span class="control" id="-lrfv65_211">L'annotation <code class="code" id="-lrfv65_212">@SpringBootTest</code>...</span></p><ul class="list _bullet" id="-lrfv65_210"><li class="list__item" id="-lrfv65_213"><p id="-lrfv65_214"><span class="control" id="-lrfv65_215">R&eacute;ponse :</span> b) Charge un contexte d'application Spring complet, rendant les beans disponibles pour l'injection.</p></li></ul></li><li class="list__item" id="-lrfv65_183"><p id="-lrfv65_216"><span class="control" id="-lrfv65_218">Que fait <code class="code" id="-lrfv65_219">@TestConfiguration</code>?</span></p><ul class="list _bullet" id="-lrfv65_217"><li class="list__item" id="-lrfv65_220"><p id="-lrfv65_221"><span class="control" id="-lrfv65_222">R&eacute;ponse :</span> b) Elle ajoute des beans au contexte de test, qui peuvent &ecirc;tre utilis&eacute;s en plus des beans de l'application principale.</p></li></ul></li></ol></section><section class="chapter"><h3 id="partie-2-pour-aller-plus-loin_3" data-toc="partie-2-pour-aller-plus-loin_3">Partie 2 : Pour aller plus loin</h3><ol class="list _decimal" id="-lrfv65_223" type="1"><li class="list__item" id="-lrfv65_224"><p id="-lrfv65_229"><span class="control" id="-lrfv65_231">Quel <code class="code" id="-lrfv65_232">webEnvironment</code> pour un appel HTTP r&eacute;el ?</span></p><ul class="list _bullet" id="-lrfv65_230"><li class="list__item" id="-lrfv65_233"><p id="-lrfv65_234"><span class="control" id="-lrfv65_235">R&eacute;ponse :</span> <code class="code" id="-lrfv65_236">@SpringBootTest.WebEnvironment.RANDOM_PORT</code>. Il d&eacute;marre un vrai serveur web sur un port al&eacute;atoire, ce qui permet de faire de vrais appels r&eacute;seau avec <code class="code" id="-lrfv65_237">TestRestTemplate</code> sans risque de conflit de port.</p></li></ul></li><li class="list__item" id="-lrfv65_225"><p id="-lrfv65_238"><span class="control" id="-lrfv65_240">Utilit&eacute; de <code class="code" id="-lrfv65_241">@Sql</code>?</span></p><ul class="list _bullet" id="-lrfv65_239"><li class="list__item" id="-lrfv65_242"><p id="-lrfv65_243"><span class="control" id="-lrfv65_244">R&eacute;ponse :</span> b) Ex&eacute;cuter des scripts SQL pour initialiser et nettoyer l'&eacute;tat de la base de donn&eacute;es pour un test.</p></li></ul></li><li class="list__item" id="-lrfv65_226"><p id="-lrfv65_245"><span class="control" id="-lrfv65_247"><code class="code" id="-lrfv65_248">@TestPropertySource</code> vs. <code class="code" id="-lrfv65_249">application-test.properties</code>?</span></p><ul class="list _bullet" id="-lrfv65_246"><li class="list__item" id="-lrfv65_250"><p id="-lrfv65_251"><span class="control" id="-lrfv65_252">R&eacute;ponse :</span> <code class="code" id="-lrfv65_253">application-test.properties</code> d&eacute;finit une configuration de base pour tous les tests. <code class="code" id="-lrfv65_254">@TestPropertySource</code> permet de surcharger une ou plusieurs propri&eacute;t&eacute;s sp&eacute;cifiquement pour une classe de test ou m&ecirc;me une seule m&eacute;thode, ce qui est id&eacute;al pour tester des comportements qui d&eacute;pendent d'une configuration particuli&egrave;re.</p></li></ul></li><li class="list__item" id="-lrfv65_227"><p id="-lrfv65_255"><span class="control" id="-lrfv65_257">Effet de <code class="code" id="-lrfv65_258">@SpringBootTest(classes = ...)</code>?</span></p><ul class="list _bullet" id="-lrfv65_256"><li class="list__item" id="-lrfv65_259"><p id="-lrfv65_260"><span class="control" id="-lrfv65_261">R&eacute;ponse :</span> d) Spring cr&eacute;era un contexte de test contenant uniquement le bean <code class="code" id="-lrfv65_262">MyService</code> (et tentera d'injecter ses d&eacute;pendances). C'est une simplification de la r&eacute;ponse correcte : Spring va charger les classes sp&eacute;cifi&eacute;es et leurs d&eacute;pendances n&eacute;cessaires, mais pas toute l'application. La r&eacute;ponse d) est la plus proche de la r&eacute;alit&eacute; parmi les choix.</p></li></ul></li><li class="list__item" id="-lrfv65_228"><p id="-lrfv65_263"><span class="control" id="-lrfv65_265">Effet de <code class="code" id="-lrfv65_266">@Configuration</code> dans un test ?</span></p><ul class="list _bullet" id="-lrfv65_264"><li class="list__item" id="-lrfv65_267"><p id="-lrfv65_268"><span class="control" id="-lrfv65_269">R&eacute;ponse :</span> b) Elle sera utilis&eacute;e pour ajouter ou modifier des beans dans le contexte principal de l'application pour ce test. Elle est plus &quot;puissante&quot; qu'une <code class="code" id="-lrfv65_270">@TestConfiguration</code> et peut remplacer des beans existants.</p></li></ul></li></ol></section></section><section class="chapter"><h2 id="chapitre-4-tests-unitaires-des-composants-spring" data-toc="chapitre-4-tests-unitaires-des-composants-spring">Chapitre 4 : Tests Unitaires des Composants Spring</h2><ol class="list _decimal" id="-lrfv65_271" type="1"><li class="list__item" id="-lrfv65_272"><p id="-lrfv65_277"><span class="control" id="-lrfv65_279">Pourquoi utiliser <code class="code" id="-lrfv65_280">@SpringBootTest(classes = ...)</code> pour un test de service ?</span></p><ul class="list _bullet" id="-lrfv65_278"><li class="list__item" id="-lrfv65_281"><p id="-lrfv65_282"><span class="control" id="-lrfv65_283">R&eacute;ponse :</span> C'est un bon compromis qui permet de tester le service de mani&egrave;re isol&eacute;e (en mockant ses d&eacute;pendances) tout en b&eacute;n&eacute;ficiant de l'injection de d&eacute;pendances g&eacute;r&eacute;e par Spring, ce qui est plus simple que l'instanciation manuelle, surtout si le service a de nombreuses d&eacute;pendances.</p></li></ul></li><li class="list__item" id="-lrfv65_273"><p id="-lrfv65_284"><span class="control" id="-lrfv65_286">&Agrave; quoi sert <code class="code" id="-lrfv65_287">@MockBean</code> dans un test de service ?</span></p><ul class="list _bullet" id="-lrfv65_285"><li class="list__item" id="-lrfv65_288"><p id="-lrfv65_289"><span class="control" id="-lrfv65_290">R&eacute;ponse :</span> b) &Agrave; remplacer les d&eacute;pendances du service (comme les repositories) par des simulations contr&ocirc;l&eacute;es par Mockito.</p></li></ul></li><li class="list__item" id="-lrfv65_274"><p id="-lrfv65_291"><span class="control" id="-lrfv65_293">Comment tester une m&eacute;thode <code class="code" id="-lrfv65_294">void</code>?</span></p><ul class="list _bullet" id="-lrfv65_292"><li class="list__item" id="-lrfv65_295"><p id="-lrfv65_296"><span class="control" id="-lrfv65_297">R&eacute;ponse :</span> On ne peut pas tester sa valeur de retour. On teste donc ses <span class="control" id="-lrfv65_298">effets de bord</span>: le plus souvent, on v&eacute;rifie qu'elle a bien interagi avec ses d&eacute;pendances en utilisant <code class="code" id="-lrfv65_299">Mockito.verify()</code> pour s'assurer qu'une m&eacute;thode sur un mock a &eacute;t&eacute; appel&eacute;e.</p></li></ul></li><li class="list__item" id="-lrfv65_275"><p id="-lrfv65_300"><span class="control" id="-lrfv65_302">Test unitaire &quot;pur&quot; vs. <code class="code" id="-lrfv65_303">@SpringBootTest</code>?</span></p><ul class="list _bullet" id="-lrfv65_301"><li class="list__item" id="-lrfv65_304"><p id="-lrfv65_305"><span class="control" id="-lrfv65_306">R&eacute;ponse :</span> c) Le test pur n'utilise pas du tout le framework Spring pour son ex&eacute;cution, il est donc plus rapide.</p></li></ul></li><li class="list__item" id="-lrfv65_276"><p id="-lrfv65_307"><span class="control" id="-lrfv65_309">Signification de <code class="code" id="-lrfv65_310">verify(..., never())...</code>?</span></p><ul class="list _bullet" id="-lrfv65_308"><li class="list__item" id="-lrfv65_311"><p id="-lrfv65_312"><span class="control" id="-lrfv65_313">R&eacute;ponse :</span> c) La m&eacute;thode <code class="code" id="-lrfv65_314">deleteById</code> n'a pas &eacute;t&eacute; appel&eacute;e du tout pendant l'ex&eacute;cution du test.</p></li></ul></li></ol></section><section class="chapter"><h2 id="chapitre-5-tests-d-int-gration-la-couche-web" data-toc="chapitre-5-tests-d-int-gration-la-couche-web">Chapitre 5 : Tests d'Int&eacute;gration : La Couche Web</h2><ol class="list _decimal" id="-lrfv65_315" type="1"><li class="list__item" id="-lrfv65_316"><p id="-lrfv65_321"><span class="control" id="-lrfv65_323">Diff&eacute;rence de contexte entre <code class="code" id="-lrfv65_324">@SpringBootTest</code> et <code class="code" id="-lrfv65_325">@WebMvcTest</code>?</span></p><ul class="list _bullet" id="-lrfv65_322"><li class="list__item" id="-lrfv65_326"><p id="-lrfv65_327"><span class="control" id="-lrfv65_328">R&eacute;ponse :</span> <code class="code" id="-lrfv65_329">@SpringBootTest</code> charge le contexte applicatif complet (services, repositories, etc.). <code class="code" id="-lrfv65_330">@WebMvcTest</code> ne charge qu'une &quot;tranche&quot; de l'application contenant la couche web (contr&ocirc;leurs, filtres, s&eacute;rialiseurs JSON) mais PAS les services ni les repositories.</p></li></ul></li><li class="list__item" id="-lrfv65_317"><p id="-lrfv65_331"><span class="control" id="-lrfv65_333">Dans un <code class="code" id="-lrfv65_334">@WebMvcTest</code>, les <code class="code" id="-lrfv65_335">@Service</code> sont... ?</span></p><ul class="list _bullet" id="-lrfv65_332"><li class="list__item" id="-lrfv65_336"><p id="-lrfv65_337"><span class="control" id="-lrfv65_338">R&eacute;ponse :</span> b) Non charg&eacute;s, et doivent &ecirc;tre mock&eacute;s avec <code class="code" id="-lrfv65_339">@MockBean</code> si le contr&ocirc;leur en d&eacute;pend.</p></li></ul></li><li class="list__item" id="-lrfv65_318"><p id="-lrfv65_340"><span class="control" id="-lrfv65_342">&Agrave; quoi sert <code class="code" id="-lrfv65_343">MockMvc</code>?</span></p><ul class="list _bullet" id="-lrfv65_341"><li class="list__item" id="-lrfv65_344"><p id="-lrfv65_345"><span class="control" id="-lrfv65_346">R&eacute;ponse :</span> C'est un client HTTP simul&eacute; fourni par Spring Test. Il permet d'ex&eacute;cuter des requ&ecirc;tes vers les contr&ocirc;leurs sans d&eacute;marrer de vrai serveur web. On l'obtient par injection de d&eacute;pendances (<code class="code" id="-lrfv65_347">@Autowired</code>) dans une classe de test annot&eacute;e avec <code class="code" id="-lrfv65_348">@WebMvcTest</code>.</p></li></ul></li><li class="list__item" id="-lrfv65_319"><p id="-lrfv65_349"><span class="control" id="-lrfv65_351">Meilleure m&eacute;thode pour v&eacute;rifier un contenu JSON ?</span></p><ul class="list _bullet" id="-lrfv65_350"><li class="list__item" id="-lrfv65_352"><p id="-lrfv65_353"><span class="control" id="-lrfv65_354">R&eacute;ponse :</span> b) <code class="code" id="-lrfv65_355">andExpect(jsonPath(&quot;$.cle&quot;, is(&quot;valeur&quot;)))</code>.</p></li></ul></li><li class="list__item" id="-lrfv65_320"><p id="-lrfv65_356"><span class="control" id="-lrfv65_358">Que faire pour simuler un <code class="code" id="-lrfv65_359">POST</code> avec JSON ?</span></p><ul class="list _bullet" id="-lrfv65_357"><li class="list__item" id="-lrfv65_360"><p id="-lrfv65_361"><span class="control" id="-lrfv65_362">R&eacute;ponse :</span> c) Utiliser la m&eacute;thode <code class="code" id="-lrfv65_363">content()</code> pour fournir le JSON et d&eacute;finir le <code class="code" id="-lrfv65_364">contentType</code> &agrave; <code class="code" id="-lrfv65_365">MediaType.APPLICATION_JSON</code>.</p></li></ul></li></ol></section><section class="chapter"><h2 id="chapitre-6-tests-d-int-gration-la-couche-d-acc-s-aux-donn-es" data-toc="chapitre-6-tests-d-int-gration-la-couche-d-acc-s-aux-donn-es">Chapitre 6 : Tests d'Int&eacute;gration : La Couche d'Acc&egrave;s aux Donn&eacute;es</h2><ol class="list _decimal" id="-lrfv65_366" type="1"><li class="list__item" id="-lrfv65_367"><p id="-lrfv65_372"><span class="control" id="-lrfv65_374">R&ocirc;le de <code class="code" id="-lrfv65_375">@DataJpaTest</code> et configurations cl&eacute;s ?</span></p><ul class="list _bullet" id="-lrfv65_373"><li class="list__item" id="-lrfv65_376"><p id="-lrfv65_377"><span class="control" id="-lrfv65_378">R&eacute;ponse :</span> Son r&ocirc;le est de tester la couche de persistance JPA en isolation. Par d&eacute;faut, il configure une base de donn&eacute;es en m&eacute;moire (H2) et ex&eacute;cute chaque test dans une transaction avec rollback automatique.</p></li></ul></li><li class="list__item" id="-lrfv65_368"><p id="-lrfv65_379"><span class="control" id="-lrfv65_381">Utilit&eacute; du rollback automatique ?</span></p><ul class="list _bullet" id="-lrfv65_380"><li class="list__item" id="-lrfv65_382"><p id="-lrfv65_383"><span class="control" id="-lrfv65_384">R&eacute;ponse :</span> c) Pour garantir l'isolation des tests en nettoyant la base de donn&eacute;es apr&egrave;s chaque test.</p></li></ul></li><li class="list__item" id="-lrfv65_369"><p id="-lrfv65_385"><span class="control" id="-lrfv65_387"><code class="code" id="-lrfv65_388">persist()</code> vs. <code class="code" id="-lrfv65_389">persistAndFlush()</code>?</span></p><ul class="list _bullet" id="-lrfv65_386"><li class="list__item" id="-lrfv65_390"><p id="-lrfv65_391"><span class="control" id="-lrfv65_392">R&eacute;ponse :</span> <code class="code" id="-lrfv65_393">persist()</code> enregistre l'entit&eacute; dans le contexte de persistance, mais ne garantit pas l'ex&eacute;cution imm&eacute;diate de la requ&ecirc;te <code class="code" id="-lrfv65_394">INSERT</code> en base. <code class="code" id="-lrfv65_395">flush()</code> force cette synchronisation. On utilise <code class="code" id="-lrfv65_396">persistAndFlush()</code> quand on a besoin de s'assurer que la donn&eacute;e est bien en base avant d'ex&eacute;cuter l'&eacute;tape suivante du test (par exemple, une lecture).</p></li></ul></li><li class="list__item" id="-lrfv65_370"><p id="-lrfv65_397"><span class="control" id="-lrfv65_399">Beans charg&eacute;s par <code class="code" id="-lrfv65_400">@DataJpaTest</code>?</span></p><ul class="list _bullet" id="-lrfv65_398"><li class="list__item" id="-lrfv65_401"><p id="-lrfv65_402"><span class="control" id="-lrfv65_403">R&eacute;ponse :</span> c) Uniquement les <code class="code" id="-lrfv65_404">@Repository</code> JPA, les <code class="code" id="-lrfv65_405">@Entity</code> et l'infrastructure de persistance.</p></li></ul></li><li class="list__item" id="-lrfv65_371"><p id="-lrfv65_406"><span class="control" id="-lrfv65_408"><code class="code" id="-lrfv65_409">TestEntityManager</code> est... ?</span></p><ul class="list _bullet" id="-lrfv65_407"><li class="list__item" id="-lrfv65_410"><p id="-lrfv65_411"><span class="control" id="-lrfv65_412">R&eacute;ponse :</span> c) Une classe utilitaire fournie par Spring Test pour simplifier la manipulation des entit&eacute;s JPA dans les tests.</p></li></ul></li></ol></section><section class="chapter"><h2 id="chapitre-7-tests-d-int-gration-complets" data-toc="chapitre-7-tests-d-int-gration-complets">Chapitre 7 : Tests d'Int&eacute;gration Complets</h2><ol class="list _decimal" id="-lrfv65_413" type="1"><li class="list__item" id="-lrfv65_414"><p id="-lrfv65_419"><span class="control" id="-lrfv65_421">Quand un test d'int&eacute;gration complet est-il pertinent ?</span></p><ul class="list _bullet" id="-lrfv65_420"><li class="list__item" id="-lrfv65_422"><p id="-lrfv65_423"><span class="control" id="-lrfv65_424">R&eacute;ponse :</span> Pour un sc&eacute;nario m&eacute;tier critique qui traverse plusieurs couches de l'application, comme le processus d'inscription d'un utilisateur ou le passage d'une commande.</p></li></ul></li><li class="list__item" id="-lrfv65_415"><p id="-lrfv65_425"><span class="control" id="-lrfv65_427">Diff&eacute;rence <code class="code" id="-lrfv65_428">MockMvc</code> et <code class="code" id="-lrfv65_429">TestRestTemplate</code>?</span></p><ul class="list _bullet" id="-lrfv65_426"><li class="list__item" id="-lrfv65_430"><p id="-lrfv65_431"><span class="control" id="-lrfv65_432">R&eacute;ponse :</span> a) <code class="code" id="-lrfv65_433">MockMvc</code> est plus rapide car il ne d&eacute;marre pas de serveur web.</p></li></ul></li><li class="list__item" id="-lrfv65_416"><p id="-lrfv65_434"><span class="control" id="-lrfv65_436">Pourquoi <code class="code" id="-lrfv65_437">RANDOM_PORT</code> est bien adapt&eacute; ?</span></p><ul class="list _bullet" id="-lrfv65_435"><li class="list__item" id="-lrfv65_438"><p id="-lrfv65_439"><span class="control" id="-lrfv65_440">R&eacute;ponse :</span> Il d&eacute;marre un vrai serveur web, ce qui permet des tests tr&egrave;s r&eacute;alistes, mais sur un port al&eacute;atoire, ce qui &eacute;vite les conflits si plusieurs processus de test s'ex&eacute;cutent en parall&egrave;le (sur un serveur de CI par exemple).</p></li></ul></li><li class="list__item" id="-lrfv65_417"><p id="-lrfv65_441"><span class="control" id="-lrfv65_443">Pourquoi <code class="code" id="-lrfv65_444">@AfterEach</code> plut&ocirc;t que <code class="code" id="-lrfv65_445">@Transactional</code>?</span></p><ul class="list _bullet" id="-lrfv65_442"><li class="list__item" id="-lrfv65_446"><p id="-lrfv65_447"><span class="control" id="-lrfv65_448">R&eacute;ponse :</span> b) Parce que l'appel HTTP se fait dans une transaction s&eacute;par&eacute;e de celle du test, rendant le rollback inefficace pour ce sc&eacute;nario.</p></li></ul></li><li class="list__item" id="-lrfv65_418"><p id="-lrfv65_449"><span class="control" id="-lrfv65_451">Objectif principal d'un test d'int&eacute;gration complet ?</span></p><ul class="list _bullet" id="-lrfv65_450"><li class="list__item" id="-lrfv65_452"><p id="-lrfv65_453"><span class="control" id="-lrfv65_454">R&eacute;ponse :</span> b) V&eacute;rifier que les composants de l'application (contr&ocirc;leur, service, repository) collaborent correctement pour un flux m&eacute;tier critique.</p></li></ul></li></ol></section><section class="chapter"><h2 id="chapitre-8-g-rer-les-d-pendances-externes-testcontainers" data-toc="chapitre-8-g-rer-les-d-pendances-externes-testcontainers">Chapitre 8 : G&eacute;rer les D&eacute;pendances Externes : Testcontainers</h2><ol class="list _decimal" id="-lrfv65_455" type="1"><li class="list__item" id="-lrfv65_456"><p id="-lrfv65_461"><span class="control" id="-lrfv65_463">Pourquoi Testcontainers est pr&eacute;f&eacute;rable &agrave; H2 ?</span></p><ul class="list _bullet" id="-lrfv65_462"><li class="list__item" id="-lrfv65_464"><p id="-lrfv65_465"><span class="control" id="-lrfv65_466">R&eacute;ponse :</span> 1) Il permet de tester contre la m&ecirc;me technologie de base de donn&eacute;es que celle utilis&eacute;e en production (haute fid&eacute;lit&eacute;), &eacute;liminant les bugs dus aux diff&eacute;rences de dialecte SQL. 2) Il est polyvalent et peut lancer n'importe quel service &quot;dockerisable&quot; (Kafka, Redis, etc.), pas seulement des bases de donn&eacute;es.</p></li></ul></li><li class="list__item" id="-lrfv65_457"><p id="-lrfv65_467"><span class="control" id="-lrfv65_469">Annotation pour connecter dynamiquement Spring au conteneur ?</span></p><ul class="list _bullet" id="-lrfv65_468"><li class="list__item" id="-lrfv65_470"><p id="-lrfv65_471"><span class="control" id="-lrfv65_472">R&eacute;ponse :</span> b) <code class="code" id="-lrfv65_473">@DynamicPropertySource</code>.</p></li></ul></li><li class="list__item" id="-lrfv65_458"><p id="-lrfv65_474"><span class="control" id="-lrfv65_476">Que signifie rendre un <code class="code" id="-lrfv65_477">@Container</code> <code class="code" id="-lrfv65_478">static</code>?</span></p><ul class="list _bullet" id="-lrfv65_475"><li class="list__item" id="-lrfv65_479"><p id="-lrfv65_480"><span class="control" id="-lrfv65_481">R&eacute;ponse :</span> Cela signifie que le conteneur Docker sera d&eacute;marr&eacute; une seule fois pour toutes les m&eacute;thodes de test de la classe, puis arr&ecirc;t&eacute; &agrave; la fin. L'avantage est un gain de temps consid&eacute;rable, car le d&eacute;marrage d'un conteneur est une op&eacute;ration co&ucirc;teuse.</p></li></ul></li><li class="list__item" id="-lrfv65_459"><p id="-lrfv65_482"><span class="control" id="-lrfv65_484">Pr&eacute;requis pour Testcontainers ?</span></p><ul class="list _bullet" id="-lrfv65_483"><li class="list__item" id="-lrfv65_485"><p id="-lrfv65_486"><span class="control" id="-lrfv65_487">R&eacute;ponse :</span> b) Avoir Docker install&eacute; et en cours d'ex&eacute;cution.</p></li></ul></li><li class="list__item" id="-lrfv65_460"><p id="-lrfv65_488"><span class="control" id="-lrfv65_490"><code class="code" id="-lrfv65_491">@AutoConfigureTestDatabase(replace = Replace.NONE)</code> sert &agrave;... ?</span></p><ul class="list _bullet" id="-lrfv65_489"><li class="list__item" id="-lrfv65_492"><p id="-lrfv65_493"><span class="control" id="-lrfv65_494">R&eacute;ponse :</span> b) Emp&ecirc;cher Spring Boot de configurer une base de donn&eacute;es en m&eacute;moire &agrave; notre place.</p></li></ul></li></ol></section><section class="chapter"><h2 id="chapitre-9-tester-la-s-curit-avec-spring-security" data-toc="chapitre-9-tester-la-s-curit-avec-spring-security">Chapitre 9 : Tester la S&eacute;curit&eacute; avec Spring Security</h2><ol class="list _decimal" id="-lrfv65_495" type="1"><li class="list__item" id="-lrfv65_496"><p id="-lrfv65_501"><span class="control" id="-lrfv65_503">Pourquoi un test &eacute;choue apr&egrave;s ajout de Spring Security ?</span></p><ul class="list _bullet" id="-lrfv65_502"><li class="list__item" id="-lrfv65_504"><p id="-lrfv65_505"><span class="control" id="-lrfv65_506">R&eacute;ponse :</span> Parce que Spring Security prot&egrave;ge par d&eacute;faut tous les endpoints. La requ&ecirc;te de test, n'&eacute;tant pas authentifi&eacute;e, se voit refuser l'acc&egrave;s avec un statut <code class="code" id="-lrfv65_507">401 Unauthorized</code>.</p></li></ul></li><li class="list__item" id="-lrfv65_497"><p id="-lrfv65_508"><span class="control" id="-lrfv65_510">Annotation pour simuler un utilisateur admin ?</span></p><ul class="list _bullet" id="-lrfv65_509"><li class="list__item" id="-lrfv65_511"><p id="-lrfv65_512"><span class="control" id="-lrfv65_513">R&eacute;ponse :</span> c) <code class="code" id="-lrfv65_514">@WithMockUser(username=&quot;admin&quot;, roles=&quot;ADMIN&quot;)</code>.</p></li></ul></li><li class="list__item" id="-lrfv65_498"><p id="-lrfv65_515"><span class="control" id="-lrfv65_517">Diff&eacute;rence entre non authentifi&eacute; et non autoris&eacute; ?</span></p><ul class="list _bullet" id="-lrfv65_516"><li class="list__item" id="-lrfv65_518"><p id="-lrfv65_519"><span class="control" id="-lrfv65_520">R&eacute;ponse :</span> Un utilisateur <span class="control" id="-lrfv65_521">non authentifi&eacute;</span> n'a fourni aucune identit&eacute; valide (r&eacute;sultat : <code class="code" id="-lrfv65_522">401 Unauthorized</code>). Un utilisateur <span class="control" id="-lrfv65_523">non autoris&eacute;</span> est bien identifi&eacute; (authentifi&eacute;), mais son identit&eacute; (ses r&ocirc;les/permissions) ne lui donne pas le droit d'acc&eacute;der &agrave; la ressource (r&eacute;sultat : <code class="code" id="-lrfv65_524">403 Forbidden</code>).</p></li></ul></li><li class="list__item" id="-lrfv65_499"><p id="-lrfv65_525"><span class="control" id="-lrfv65_527">Pourquoi <code class="code" id="-lrfv65_528">@Import(SecurityConfig.class)</code>?</span></p><ul class="list _bullet" id="-lrfv65_526"><li class="list__item" id="-lrfv65_529"><p id="-lrfv65_530"><span class="control" id="-lrfv65_531">R&eacute;ponse :</span> b) Pour charger les r&egrave;gles de s&eacute;curit&eacute; (<code class="code" id="-lrfv65_532">authorizeHttpRequests</code>, etc.) qui ne sont pas charg&eacute;es par d&eacute;faut dans ce type de test en tranche.</p></li></ul></li><li class="list__item" id="-lrfv65_500"><p id="-lrfv65_533"><span class="control" id="-lrfv65_535">Un statut <code class="code" id="-lrfv65_536">403 Forbidden</code> signifie... ?</span></p><ul class="list _bullet" id="-lrfv65_534"><li class="list__item" id="-lrfv65_537"><p id="-lrfv65_538"><span class="control" id="-lrfv65_539">R&eacute;ponse :</span> b) Le serveur a compris la requ&ecirc;te, mais refuse de l'autoriser car le client n'a pas les droits n&eacute;cessaires.</p></li></ul></li></ol></section><section class="chapter"><h2 id="chapitre-10-tests-asynchrones-et-r-actifs" data-toc="chapitre-10-tests-asynchrones-et-r-actifs">Chapitre 10 : Tests Asynchrones et R&eacute;actifs</h2><ol class="list _decimal" id="-lrfv65_540" type="1"><li class="list__item" id="-lrfv65_541"><p id="-lrfv65_546"><span class="control" id="-lrfv65_548">Probl&egrave;me du test d'une m&eacute;thode <code class="code" id="-lrfv65_549">@Async</code>?</span></p><ul class="list _bullet" id="-lrfv65_547"><li class="list__item" id="-lrfv65_550"><p id="-lrfv65_551"><span class="control" id="-lrfv65_552">R&eacute;ponse :</span> La m&eacute;thode de test continue son ex&eacute;cution sans attendre la fin du traitement asynchrone. L'assertion est donc ex&eacute;cut&eacute;e trop t&ocirc;t, avant que le r&eacute;sultat ne soit disponible, provoquant l'&eacute;chec du test.</p></li></ul></li><li class="list__item" id="-lrfv65_542"><p id="-lrfv65_553"><span class="control" id="-lrfv65_555">Biblioth&egrave;que pour tester les processus asynchrones ?</span></p><ul class="list _bullet" id="-lrfv65_554"><li class="list__item" id="-lrfv65_556"><p id="-lrfv65_557"><span class="control" id="-lrfv65_558">R&eacute;ponse :</span> c) Awaitility.</p></li></ul></li><li class="list__item" id="-lrfv65_543"><p id="-lrfv65_559"><span class="control" id="-lrfv65_561">Diff&eacute;rence <code class="code" id="-lrfv65_562">Mono</code> vs. <code class="code" id="-lrfv65_563">Flux</code>?</span></p><ul class="list _bullet" id="-lrfv65_560"><li class="list__item" id="-lrfv65_564"><p id="-lrfv65_565"><span class="control" id="-lrfv65_566">R&eacute;ponse :</span> Un <code class="code" id="-lrfv65_567">Mono</code> est un flux r&eacute;actif qui repr&eacute;sente 0 ou 1 &eacute;l&eacute;ment. Un <code class="code" id="-lrfv65_568">Flux</code> repr&eacute;sente 0 &agrave; N &eacute;l&eacute;ments.</p></li></ul></li><li class="list__item" id="-lrfv65_544"><p id="-lrfv65_569"><span class="control" id="-lrfv65_571">Pour tester des endpoints WebFlux, on utilise... ?</span></p><ul class="list _bullet" id="-lrfv65_570"><li class="list__item" id="-lrfv65_572"><p id="-lrfv65_573"><span class="control" id="-lrfv65_574">R&eacute;ponse :</span> c) <code class="code" id="-lrfv65_575">WebTestClient</code>.</p></li></ul></li><li class="list__item" id="-lrfv65_545"><p id="-lrfv65_576"><span class="control" id="-lrfv65_578"><code class="code" id="-lrfv65_579">StepVerifier</code> est utilis&eacute; pour... ?</span></p><ul class="list _bullet" id="-lrfv65_577"><li class="list__item" id="-lrfv65_580"><p id="-lrfv65_581"><span class="control" id="-lrfv65_582">R&eacute;ponse :</span> b) V&eacute;rifier chaque &eacute;v&eacute;nement (&eacute;mission d'&eacute;l&eacute;ment, compl&eacute;tion, erreur) dans un <code class="code" id="-lrfv65_583">Mono</code> ou un <code class="code" id="-lrfv65_584">Flux</code>.</p></li></ul></li></ol></section><section class="chapter"><h2 id="chapitre-11-bonnes-pratiques-et-strat-gies-avanc-es" data-toc="chapitre-11-bonnes-pratiques-et-strat-gies-avanc-es">Chapitre 11 : Bonnes Pratiques et Strat&eacute;gies Avanc&eacute;es</h2><section class="chapter"><h3 id="partie-1-l-essentiel" data-toc="partie-1-l-essentiel">Partie 1 : L'essentiel</h3><ol class="list _decimal" id="-lrfv65_587" type="1"><li class="list__item" id="-lrfv65_588"><p id="-lrfv65_593"><span class="control" id="-lrfv65_595">Convention <code class="code" id="-lrfv65_596">method_should_when</code>?</span></p><ul class="list _bullet" id="-lrfv65_594"><li class="list__item" id="-lrfv65_597"><p id="-lrfv65_598"><span class="control" id="-lrfv65_599">R&eacute;ponse :</span> C'est une convention de nommage qui rend le test auto-document&eacute;. Elle d&eacute;crit la m&eacute;thode test&eacute;e (<code class="code" id="-lrfv65_600">method</code>), le r&eacute;sultat attendu (<code class="code" id="-lrfv65_601">should...</code>) et les conditions dans lesquelles ce r&eacute;sultat se produit (<code class="code" id="-lrfv65_602">when...</code>).</p></li></ul></li><li class="list__item" id="-lrfv65_589"><p id="-lrfv65_603"><span class="control" id="-lrfv65_605">&quot;Test Data Builder&quot; est utilis&eacute; pour... ?</span></p><ul class="list _bullet" id="-lrfv65_604"><li class="list__item" id="-lrfv65_606"><p id="-lrfv65_607"><span class="control" id="-lrfv65_608">R&eacute;ponse :</span> c) Simplifier la cr&eacute;ation d'objets de test complexes et am&eacute;liorer la lisibilit&eacute; des tests.</p></li></ul></li><li class="list__item" id="-lrfv65_590"><p id="-lrfv65_609"><span class="control" id="-lrfv65_611">Couverture de 95% : qu'est-ce que cela signifie/ne signifie pas ?</span></p><ul class="list _bullet" id="-lrfv65_610"><li class="list__item" id="-lrfv65_612"><p id="-lrfv65_613"><span class="control" id="-lrfv65_614">R&eacute;ponse :</span> Cela signifie que 95% des lignes du code de production ont &eacute;t&eacute; ex&eacute;cut&eacute;es par les tests. Cela <span class="control" id="-lrfv65_615">ne signifie pas</span> que le code est correct &agrave; 95% ou que les 95% des fonctionnalit&eacute;s sont bien test&eacute;es (les assertions pourraient &ecirc;tre faibles ou inexistantes).</p></li></ul></li><li class="list__item" id="-lrfv65_591"><p id="-lrfv65_616"><span class="control" id="-lrfv65_618">Principe DRY ?</span></p><ul class="list _bullet" id="-lrfv65_617"><li class="list__item" id="-lrfv65_619"><p id="-lrfv65_620"><span class="control" id="-lrfv65_621">R&eacute;ponse :</span> b) Don't Repeat Yourself - &Eacute;viter la duplication de code.</p></li></ul></li><li class="list__item" id="-lrfv65_592"><p id="-lrfv65_622"><span class="control" id="-lrfv65_624">Organisation des packages de test ?</span></p><ul class="list _bullet" id="-lrfv65_623"><li class="list__item" id="-lrfv65_625"><p id="-lrfv65_626"><span class="control" id="-lrfv65_627">R&eacute;ponse :</span> b) Cr&eacute;er une structure de packages qui refl&egrave;te celle du code source.</p></li></ul></li></ol></section><section class="chapter"><h3 id="partie-2-pour-aller-plus-loin" data-toc="partie-2-pour-aller-plus-loin">Partie 2 : Pour aller plus loin</h3><ol class="list _decimal" id="-lrfv65_628" type="1"><li class="list__item" id="-lrfv65_629"><p id="-lrfv65_634"><span class="control" id="-lrfv65_636">Cycle &quot;Rouge-Vert-Refactor&quot; ?</span></p><ul class="list _bullet" id="-lrfv65_635"><li class="list__item" id="-lrfv65_637"><p id="-lrfv65_638"><span class="control" id="-lrfv65_639">R&eacute;ponse :</span> C'est le cycle de d&eacute;veloppement du TDD : 1) <span class="control" id="-lrfv65_640">Rouge</span>: &Eacute;crire un test qui &eacute;choue. 2) <span class="control" id="-lrfv65_641">Vert</span>: &Eacute;crire le minimum de code pour que le test passe. 3) <span class="control" id="-lrfv65_642">Refactor</span>: Am&eacute;liorer le code tout en gardant le test au vert.</p></li></ul></li><li class="list__item" id="-lrfv65_630"><p id="-lrfv65_643"><span class="control" id="-lrfv65_645">&Eacute;nonc&eacute; qui d&eacute;crit le mieux le BDD ?</span></p><ul class="list _bullet" id="-lrfv65_644"><li class="list__item" id="-lrfv65_646"><p id="-lrfv65_647"><span class="control" id="-lrfv65_648">R&eacute;ponse :</span> b) Une m&eacute;thodologie de d&eacute;veloppement ax&eacute;e sur la collaboration et la d&eacute;finition partag&eacute;e du comportement attendu.</p></li></ul></li><li class="list__item" id="-lrfv65_631"><p id="-lrfv65_649"><span class="control" id="-lrfv65_651">Avantage d'une classe de base de test ?</span></p><ul class="list _bullet" id="-lrfv65_650"><li class="list__item" id="-lrfv65_652"><p id="-lrfv65_653"><span class="control" id="-lrfv65_654">R&eacute;ponse :</span> Elle permet de centraliser la configuration de test commune (comme la d&eacute;claration d'un conteneur Testcontainers) pour &eacute;viter de la dupliquer dans de nombreuses classes de test (principe DRY).</p></li></ul></li><li class="list__item" id="-lrfv65_632"><p id="-lrfv65_655"><span class="control" id="-lrfv65_657">Objectif de l'Int&eacute;gration Continue (CI) ?</span></p><ul class="list _bullet" id="-lrfv65_656"><li class="list__item" id="-lrfv65_658"><p id="-lrfv65_659"><span class="control" id="-lrfv65_660">R&eacute;ponse :</span> c) D&eacute;tecter les probl&egrave;mes d'int&eacute;gration et les r&eacute;gressions le plus t&ocirc;t possible en construisant et testant le code fr&eacute;quemment.</p></li></ul></li><li class="list__item" id="-lrfv65_633"><p id="-lrfv65_661"><span class="control" id="-lrfv65_663">Un &quot;mutant qui survit&quot; signifie... ?</span></p><ul class="list _bullet" id="-lrfv65_662"><li class="list__item" id="-lrfv65_664"><p id="-lrfv65_665"><span class="control" id="-lrfv65_666">R&eacute;ponse :</span> c) La modification apport&eacute;e au code n'a &eacute;t&eacute; d&eacute;tect&eacute;e par aucun test, r&eacute;v&eacute;lant une faiblesse dans la suite de tests.</p></li></ul></li></ol></section></section><section class="chapter"><h2 id="chapitre-12-conclusion-et-aller-plus-loin" data-toc="chapitre-12-conclusion-et-aller-plus-loin">Chapitre 12 : Conclusion et Aller Plus Loin</h2><ol class="list _decimal" id="-lrfv65_667" type="1"><li class="list__item" id="-lrfv65_668"><p id="-lrfv65_673"><span class="emphasis" id="-lrfv65_674">(R&eacute;ponse personnelle)</span></p></li><li class="list__item" id="-lrfv65_669"><p id="-lrfv65_675"><span class="control" id="-lrfv65_677">O&ugrave; se situent les tests E2E avec Cypress ?</span></p><ul class="list _bullet" id="-lrfv65_676"><li class="list__item" id="-lrfv65_678"><p id="-lrfv65_679"><span class="control" id="-lrfv65_680">R&eacute;ponse :</span> c) Au sommet, car ils sont lents, co&ucirc;teux mais tr&egrave;s r&eacute;alistes.</p></li></ul></li><li class="list__item" id="-lrfv65_670"><p id="-lrfv65_681"><span class="control" id="-lrfv65_683">B&eacute;n&eacute;fice principal du TDD ?</span></p><ul class="list _bullet" id="-lrfv65_682"><li class="list__item" id="-lrfv65_684"><p id="-lrfv65_685"><span class="control" id="-lrfv65_686">R&eacute;ponse :</span> Le TDD produit un code naturellement testable et fournit un filet de s&eacute;curit&eacute; complet contre les r&eacute;gressions. (Ou : Il utilise les tests pour guider la conception du logiciel).</p></li></ul></li><li class="list__item" id="-lrfv65_671"><p id="-lrfv65_687"><span class="control" id="-lrfv65_689">CI vise &agrave;... ?</span></p><ul class="list _bullet" id="-lrfv65_688"><li class="list__item" id="-lrfv65_690"><p id="-lrfv65_691"><span class="control" id="-lrfv65_692">R&eacute;ponse :</span> b) Int&eacute;grer et tester le code de mani&egrave;re fr&eacute;quente et automatis&eacute;e pour d&eacute;tecter les probl&egrave;mes rapidement.</p></li></ul></li><li class="list__item" id="-lrfv65_672"><p id="-lrfv65_693"><span class="control" id="-lrfv65_695">Outil pour tester contre une BDD en conteneur ?</span></p><ul class="list _bullet" id="-lrfv65_694"><li class="list__item" id="-lrfv65_696"><p id="-lrfv65_697"><span class="control" id="-lrfv65_698">R&eacute;ponse :</span> c) Testcontainers.</p></li></ul></li></ol></section><div class="last-modified">16 juin 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="0012-00-conclusion.html" class="navigation-links__prev">Chapitre 12 : Conclusion et Aller Plus Loin</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>