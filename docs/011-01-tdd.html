<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-07-28T09:05:04.299508"><title>Chapitre 11 : Strat&eacute;gies de Qualit&eacute; Sup&eacute;rieure et Automatisation (Pour aller plus loin) | Java Spring Test</title><script type="application/json" id="virtual-toc-data">[{"id":"objectifs-p-dagogiques","level":0,"title":"Objectifs pédagogiques","anchor":"#objectifs-p-dagogiques"},{"id":"introduction-la-construction-de-la-cath-drale","level":0,"title":"Introduction : La construction de la cathédrale","anchor":"#introduction-la-construction-de-la-cath-drale"},{"id":"tdd-test-driven-development-laisser-les-tests-piloter","level":0,"title":"TDD (Test-Driven Development) : Laisser les Tests Piloter","anchor":"#tdd-test-driven-development-laisser-les-tests-piloter"},{"id":"bdd-behavior-driven-development-la-conversation-au-centre","level":0,"title":"BDD (Behavior-Driven Development) : La Conversation au Centre","anchor":"#bdd-behavior-driven-development-la-conversation-au-centre"},{"id":"dry-pour-la-configuration-les-classes-de-base-de-test","level":0,"title":"DRY pour la Configuration : Les Classes de Base de Test","anchor":"#dry-pour-la-configuration-les-classes-de-base-de-test"},{"id":"l-int-gration-continue-ci-votre-gardien-de-la-qualit","level":0,"title":"L\u0027Intégration Continue (CI) : Votre Gardien de la Qualité","anchor":"#l-int-gration-continue-ci-votre-gardien-de-la-qualit"},{"id":"aller-plus-loin-les-tests-de-mutation","level":0,"title":"Aller plus loin : Les Tests de Mutation","anchor":"#aller-plus-loin-les-tests-de-mutation"},{"id":"exercice-15-r-flexion-strat-gique","level":0,"title":"Exercice 15 : Réflexion stratégique","anchor":"#exercice-15-r-flexion-strat-gique"},{"id":"correction-exercice-15","level":0,"title":"Correction exercice 15","anchor":"#correction-exercice-15"},{"id":"auto-valuation","level":0,"title":"Auto-évaluation","anchor":"#auto-valuation"},{"id":"conclusion-de-la-partie","level":0,"title":"Conclusion de la partie","anchor":"#conclusion-de-la-partie"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Chapitre 11 : Strat&eacute;gies de Qualit&eacute; Sup&eacute;rieure et Automatisation (Pour aller plus loin) | Java Spring Test"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Java Spring Test Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/011-01-tdd.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Chapitre 11 : Strat&eacute;gies de Qualit&eacute; Sup&eacute;rieure et Automatisation (Pour aller plus loin) | Java Spring Test"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/011-01-tdd.html#webpage",
    "url": "writerside-documentation/011-01-tdd.html",
    "name": "Chapitre 11 : Strat&eacute;gies de Qualit&eacute; Sup&eacute;rieure et Automatisation (Pour aller plus loin) | Java Spring Test",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Java Spring Test Help"
}</script><!-- End Schema.org --></head><body data-id="011-01-tdd" data-main-title="Chapitre 11 : Stratégies de Qualité Supérieure et Automatisation (Pour aller plus loin)" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="011-00-best-practices.md|Chapitre 11 : L'Art du Test : Bonnes Pratiques et Stratégies Avancées (L'essentiel)"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Java Spring Test  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="011-01-tdd" id="011-01-tdd.md">Chapitre 11 : Stratégies de Qualité Supérieure et Automatisation (Pour aller plus loin)</h1><section class="chapter"><h2 id="objectifs-p-dagogiques" data-toc="objectifs-p-dagogiques">Objectifs p&eacute;dagogiques</h2><p id="-7bed5c_14">&Agrave; la fin de cette partie, vous serez en mesure de :</p><ul class="list _bullet" id="-7bed5c_15"><li class="list__item" id="-7bed5c_16"><p id="-7bed5c_21"><span class="control" id="-7bed5c_22">D&eacute;crire</span> le cycle de d&eacute;veloppement du TDD (Test-Driven Development) et ses avantages.</p></li><li class="list__item" id="-7bed5c_17"><p id="-7bed5c_23"><span class="control" id="-7bed5c_24">Expliquer</span> comment le BDD (Behavior-Driven Development) favorise la collaboration au sein de l'&eacute;quipe.</p></li><li class="list__item" id="-7bed5c_18"><p id="-7bed5c_25"><span class="control" id="-7bed5c_26">Structurer</span> vos tests en utilisant des classes de base pour &eacute;viter la duplication de configuration.</p></li><li class="list__item" id="-7bed5c_19"><p id="-7bed5c_27"><span class="control" id="-7bed5c_28">Comprendre</span> le r&ocirc;le des tests automatis&eacute;s dans un pipeline d'Int&eacute;gration Continue (CI).</p></li><li class="list__item" id="-7bed5c_20"><p id="-7bed5c_29"><span class="control" id="-7bed5c_30">Identifier</span> le concept de tests de mutation et leur valeur ajout&eacute;e.</p></li></ul></section><section class="chapter"><h2 id="introduction-la-construction-de-la-cath-drale" data-toc="introduction-la-construction-de-la-cath-drale">Introduction : La construction de la cath&eacute;drale</h2><p id="-7bed5c_31">Un artisan peut construire une magnifique chaise. Mais pour construire une cath&eacute;drale, il faut plus que des comp&eacute;tences individuelles. Il faut un plan d'architecte, une m&eacute;thode de construction, une collaboration parfaite entre les diff&eacute;rents corps de m&eacute;tier, et des v&eacute;rifications constantes &agrave; chaque &eacute;tape.</p><p id="-7bed5c_32">Dans cette partie, nous ne nous int&eacute;ressons plus seulement &agrave; la construction de la &quot;chaise&quot; (une classe bien test&eacute;e). Nous nous int&eacute;ressons &agrave; la construction de la &quot;cath&eacute;drale&quot; (l'application enti&egrave;re). Nous allons explorer des m&eacute;thodologies comme le TDD et le BDD, qui sont les plans d'architecte du d&eacute;veloppement logiciel. Nous verrons comment organiser le chantier pour que tout le monde travaille efficacement (classes de base pour les tests) et comment mettre en place des contr&ocirc;les de qualit&eacute; automatis&eacute;s &agrave; chaque &eacute;tape de la construction (Int&eacute;gration Continue).</p><p id="-7bed5c_33">Pr&eacute;parez-vous &agrave; changer votre perspective : les tests ne sont plus quelque chose que vous <span class="emphasis" id="-7bed5c_34">faites</span> &agrave; votre code, ils deviennent le moteur m&ecirc;me de sa conception et de son d&eacute;veloppement.</p></section><section class="chapter"><h2 id="tdd-test-driven-development-laisser-les-tests-piloter" data-toc="tdd-test-driven-development-laisser-les-tests-piloter">TDD (Test-Driven Development) : Laisser les Tests Piloter</h2><p id="-7bed5c_35">Nous avons d&eacute;j&agrave; effleur&eacute; le TDD, mais il est temps de le formaliser. Le TDD n'est pas une technique de test, c'est une * <span class="emphasis" id="-7bed5c_40">technique de design et de d&eacute;veloppement</span>*. Le principe est radical : <span class="control" id="-7bed5c_41">vous ne devez pas &eacute;crire une seule ligne de code de production sans avoir d'abord un test automatis&eacute; qui &eacute;choue.</span></p><p id="-7bed5c_36">Le cycle est un mantra simple : <span class="control" id="-7bed5c_42">Rouge - Vert - Refactor</span>.</p><section class="procedure-steps"><h3 id="-7bed5c_37" data-toc="-7bed5c_37">Le Cycle TDD en Action</h3><ul class="list _bullet"><li class="list__item" id="-7bed5c_43"><p><b id="-7bed5c_47">1. &Eacute;crire un Test (ROUGE)</b></p></li></ul><p id="-7bed5c_44">Pensez &agrave; la plus petite fonctionnalit&eacute; que vous voulez ajouter (ex: &quot;un calculateur doit pouvoir additionner deux nombres&quot;). &Eacute;crivez un test qui utilise cette fonctionnalit&eacute; comme si elle existait d&eacute;j&agrave;. Lancez le test : il doit &eacute;chouer, soit parce que le code ne compile pas, soit parce que l'assertion est fausse. C'est l'&eacute;tape <b id="-7bed5c_48">ROUGE</b>.</p><div class="code-block" data-lang="java">
    @Test
    void shouldAddTwoNumbers() {
        Calculator calculator = new Calculator(); // La classe n'existe pas encore !
        int sum = calculator.add(2, 3); // La méthode n'existe pas !
        assertThat(sum).isEqualTo(5);
    }
    </div><div class="code-block" data-lang="none">&lt;step&gt;&lt;b&gt;2. Écrire le Code Minimum (VERT)&lt;/b&gt;&lt;/step&gt;
&lt;p&gt;Écrivez le strict minimum de code nécessaire pour que le test passe au vert. Pas plus. Ne cherchez pas la perfection, cherchez juste à faire passer le test. C'est l'étape &lt;b&gt;VERTE&lt;/b&gt;.&lt;/p&gt;
&lt;code-block lang=&quot;java&quot;&gt;
public class Calculator {
    public int add(int a, int b) {
        return a + b; // Simple, direct.
    }
}
&lt;/code-block&gt;
&lt;p&gt;Lancez les tests : ils doivent tous passer.&lt;/p&gt;

&lt;step&gt;&lt;b&gt;3. Refactoriser&lt;/b&gt;&lt;/step&gt;
&lt;p&gt;Maintenant que vous avez un filet de sécurité (le test vert), vous pouvez améliorer le code en toute confiance. Vous pouvez renommer des variables, extraire une méthode, améliorer l'algorithme... Tant que le test reste vert, vous savez que vous n'avez pas cassé la fonctionnalité. C'est l'étape de &lt;b&gt;REFACTOR&lt;/b&gt;.&lt;/p&gt;
</div></section><p id="-7bed5c_38"><span class="control" id="-7bed5c_49">Avantages du TDD :</span></p><ul class="list _bullet" id="-7bed5c_39"><li class="list__item" id="-7bed5c_50"><p id="-7bed5c_54"><span class="control" id="-7bed5c_55">Filet de s&eacute;curit&eacute; :</span> Chaque morceau de code est n&eacute; avec son test.</p></li><li class="list__item" id="-7bed5c_51"><p id="-7bed5c_56"><span class="control" id="-7bed5c_57">Aide &agrave; la conception :</span> Vous force &agrave; penser &agrave; l'utilisabilit&eacute; de votre code avant de l'&eacute;crire. Si c'est difficile &agrave; tester, c'est probablement mal con&ccedil;u.</p></li><li class="list__item" id="-7bed5c_52"><p id="-7bed5c_58"><span class="control" id="-7bed5c_59">Couverture de code naturelle :</span> Vous obtenez une couverture de code &eacute;lev&eacute;e &quot;gratuitement&quot;.</p></li><li class="list__item" id="-7bed5c_53"><p id="-7bed5c_60"><span class="control" id="-7bed5c_61">Focus :</span> Vous vous concentrez sur une seule petite chose &agrave; la fois.</p></li></ul></section><section class="chapter"><h2 id="bdd-behavior-driven-development-la-conversation-au-centre" data-toc="bdd-behavior-driven-development-la-conversation-au-centre">BDD (Behavior-Driven Development) : La Conversation au Centre</h2><p id="-7bed5c_62">Le BDD va un cran plus loin que le TDD. Il se demande : &quot;Avant m&ecirc;me d'&eacute;crire un test technique, sommes-nous s&ucirc;rs que nous avons tous compris le comportement attendu de la fonctionnalit&eacute; ?&quot;. C'est un processus de <span class="control" id="-7bed5c_67">collaboration</span> qui utilise un langage partag&eacute; pour s'assurer que les d&eacute;veloppeurs, les testeurs et les responsables produit sont sur la m&ecirc;me longueur d'onde.</p><p id="-7bed5c_63">Ce langage est souvent <span class="control" id="-7bed5c_68">Gherkin</span>, avec sa syntaxe <code class="code" id="-7bed5c_69">Given / When / Then</code> (&Eacute;tant donn&eacute; / Quand / Alors).</p><p id="-7bed5c_64"><span class="control" id="-7bed5c_70">Exemple Gherkin :</span></p><div class="code-block" data-lang="gherkin">
Feature: Retrait d'argent au distributeur

  Scenario: Le compte est suffisamment approvisionné
    Given le solde du compte est de 100€
    When l'utilisateur demande 20€
    Then le distributeur doit délivrer 20€
    And le solde du compte doit être de 80€
</div><p id="-7bed5c_66">Cet &eacute;nonc&eacute; est la &quot;source de v&eacute;rit&eacute;&quot;. Il est &eacute;crit <span class="control" id="-7bed5c_71">avant</span> le d&eacute;veloppement. Ensuite, les d&eacute;veloppeurs peuvent l'impl&eacute;menter, souvent en utilisant le TDD pour chaque &eacute;tape. Des outils comme Cucumber peuvent m&ecirc;me lier ces phrases en langage naturel &agrave; du code de test Java, transformant vos sp&eacute;cifications en tests ex&eacute;cutables.</p></section><section class="chapter"><h2 id="dry-pour-la-configuration-les-classes-de-base-de-test" data-toc="dry-pour-la-configuration-les-classes-de-base-de-test">DRY pour la Configuration : Les Classes de Base de Test</h2><p id="-7bed5c_72">Dans les chapitres pr&eacute;c&eacute;dents, nous avons vu des configurations de test se r&eacute;p&eacute;ter, comme celle pour Testcontainers. C'est un cas parfait pour la factorisation en utilisant l'h&eacute;ritage.</p><p id="-7bed5c_73"><span class="control" id="-7bed5c_79">Le probl&egrave;me : Duplication de la configuration Testcontainers</span></p><div class="code-block" data-lang="java">

@DataJpaTest
@Testcontainers
@AutoConfigureTestDatabase(replace = Replace.NONE)
class BookRepositoryTest {
    // ... déclaration du conteneur et @DynamicPropertySource
}

@DataJpaTest
@Testcontainers
@AutoConfigureTestDatabase(replace = Replace.NONE)
class AuthorRepositoryTest {
    // ... la MÊME déclaration de conteneur et @DynamicPropertySource
}
</div><p id="-7bed5c_75"><span class="control" id="-7bed5c_80">La solution : Une classe de base abstraite</span></p><div class="code-block" data-lang="java">
// Dans src/test/java/fr/formation/spring/config/PostgresIntegrationTest.java

@DataJpaTest
@Testcontainers
@AutoConfigureTestDatabase(replace = Replace.NONE)
public abstract class PostgresIntegrationTest {

    @Container
    static PostgreSQLContainer&lt;?&gt; postgres = new PostgreSQLContainer&lt;&gt;(
            &quot;postgres:15-alpine&quot;
    );

    @DynamicPropertySource
    static void configureProperties(DynamicPropertyRegistry registry) {
        registry.add(&quot;spring.datasource.url&quot;, postgres::getJdbcUrl);
        // ...
    }
}
</div><p id="-7bed5c_77"><span class="control" id="-7bed5c_81">Les tests deviennent incroyablement plus propres :</span></p><div class="code-block" data-lang="java">
class BookRepositoryTest extends PostgresIntegrationTest {
    @Autowired
    private BookRepository repository;
    // ... plus aucune configuration, juste les tests !
}

class AuthorRepositoryTest extends PostgresIntegrationTest {
    @Autowired
    private AuthorRepository repository;
    // ...
}
</div></section><section class="chapter"><h2 id="l-int-gration-continue-ci-votre-gardien-de-la-qualit" data-toc="l-int-gration-continue-ci-votre-gardien-de-la-qualit">L'Int&eacute;gration Continue (CI) : Votre Gardien de la Qualit&eacute;</h2><p id="-7bed5c_82">L'int&eacute;gration continue est la pratique qui consiste, pour les d&eacute;veloppeurs, &agrave; fusionner leur code dans un d&eacute;p&ocirc;t central plusieurs fois par jour. Chaque fusion d&eacute;clenche un <span class="control" id="-7bed5c_87">build automatis&eacute;</span> qui inclut l'ex&eacute;cution de <span class="control" id="-7bed5c_88">toute la suite de tests</span>.</p><p id="-7bed5c_83">Des outils comme Jenkins, GitLab CI, ou GitHub Actions sont les moteurs de ce processus.</p><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="446px" preserveAspectRatio="none" style="width:993px;height:446px;background:#FFFFFF;" version="1.1" viewBox="0 0 993 446" width="993px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="406" x="297.5" y="37.1182">Flux d'Int&#233;gration Continue (CI)</text><rect fill="#FFFFFF" height="386.6245" style="stroke:#000000;stroke-width:1.0;" width="764" x="97" y="53.7373"/><text fill="#000000" font-family="Verdana" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105" x="426.5" y="66.8071">Syst&#232;me de CI</text><line style="stroke:#000000;stroke-width:1.0;" x1="48" x2="48" y1="130.752" y2="359.3472"/><line style="stroke:#000000;stroke-width:1.0;" x1="136" x2="136" y1="130.752" y2="359.3472"/><line style="stroke:#000000;stroke-width:1.0;" x1="250" x2="250" y1="130.752" y2="359.3472"/><line style="stroke:#000000;stroke-width:1.0;" x1="413" x2="413" y1="130.752" y2="359.3472"/><line style="stroke:#000000;stroke-width:1.0;" x1="652" x2="652" y1="130.752" y2="359.3472"/><line style="stroke:#000000;stroke-width:1.0;" x1="812" x2="812" y1="130.752" y2="359.3472"/><line style="stroke:#000000;stroke-width:1.0;" x1="932" x2="932" y1="130.752" y2="359.3472"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="70" x="10" y="127.8125">Developer</text><ellipse cx="48" cy="61.7373" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1.0;"/><path d="M48,69.7373 L48,96.7373 M35,77.7373 L61,77.7373 M48,96.7373 L35,111.7373 M48,96.7373 L61,111.7373 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="70" x="10" y="372.4224">Developer</text><ellipse cx="48" cy="384.3618" fill="#FFFFFF" rx="8" ry="8" style="stroke:#000000;stroke-width:1.0;"/><path d="M48,392.3618 L48,419.3618 M35,400.3618 L61,400.3618 M48,419.3618 L35,434.3618 M48,419.3618 L61,434.3618 " fill="none" style="stroke:#000000;stroke-width:1.0;"/><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="50" x="111" y="98.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="36" x="118" y="119.8125">Build</text><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="50" x="111" y="358.3472"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="36" x="118" y="379.4224">Build</text><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="118" x="191" y="98.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="104" x="198" y="119.8125">Tests Unitaires</text><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="118" x="191" y="358.3472"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="104" x="198" y="379.4224">Tests Unitaires</text><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="148" x="339" y="98.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="134" x="346" y="119.8125">Tests d'Int&#233;gration</text><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="148" x="339" y="358.3472"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="134" x="346" y="379.4224">Tests d'Int&#233;gration</text><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="130" x="587" y="98.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="116" x="594" y="119.8125">Analyse de Code</text><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="130" x="587" y="358.3472"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="116" x="594" y="379.4224">Analyse de Code</text><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="70" x="777" y="98.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="56" x="784" y="119.8125">Package</text><rect fill="#FFFFFF" height="31.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="70" x="777" y="358.3472"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="56" x="784" y="379.4224">Package</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="114" x="872" y="127.8125">Code Repository</text><path d="M914,77.7373 C914,67.7373 932,67.7373 932,67.7373 C932,67.7373 950,67.7373 950,77.7373 L950,103.7373 C950,113.7373 932,113.7373 932,113.7373 C932,113.7373 914,113.7373 914,103.7373 L914,77.7373 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.5;"/><path d="M914,77.7373 C914,87.7373 932,87.7373 932,87.7373 C932,87.7373 950,87.7373 950,77.7373 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="114" x="872" y="372.4224">Code Repository</text><path d="M914,385.3618 C914,375.3618 932,375.3618 932,375.3618 C932,375.3618 950,375.3618 950,385.3618 L950,411.3618 C950,421.3618 932,421.3618 932,421.3618 C932,421.3618 914,421.3618 914,411.3618 L914,385.3618 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.5;"/><path d="M914,385.3618 C914,395.3618 932,395.3618 932,395.3618 C932,395.3618 950,395.3618 950,385.3618 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><polygon fill="#000000" points="920,158.5513,930,162.5513,920,166.5513,924,162.5513" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="48" x2="926" y1="162.5513" y2="162.5513"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="69" x="55" y="157.8218">`git push`</text><polygon fill="#000000" points="147,188.3506,137,192.3506,147,196.3506,143,192.3506" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="141" x2="931" y1="192.3506" y2="192.3506"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="122" x="153" y="187.6211">D&#233;clenche le build</text><polygon fill="#000000" points="238,218.1499,248,222.1499,238,226.1499,242,222.1499" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="136" x2="244" y1="222.1499" y2="222.1499"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="52" x="143" y="217.4204">Ex&#233;cute</text><polygon fill="#000000" points="401,247.9492,411,251.9492,401,255.9492,405,251.9492" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="250" x2="407" y1="251.9492" y2="251.9492"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="52" x="257" y="247.2197">Ex&#233;cute</text><polygon fill="#000000" points="640,277.7485,650,281.7485,640,285.7485,644,281.7485" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="413" x2="646" y1="281.7485" y2="281.7485"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="215" x="420" y="277.019">Ex&#233;cute (Coverage, SonarQube)</text><polygon fill="#000000" points="800,307.5479,810,311.5479,800,315.5479,804,311.5479" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="652" x2="806" y1="311.5479" y2="311.5479"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="136" x="659" y="306.8184">Cr&#233;e l'artefact (JAR)</text><polygon fill="#000000" points="59,337.3472,49,341.3472,59,345.3472,55,341.3472" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="53" x2="811" y1="341.3472" y2="341.3472"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="161" x="65" y="336.6177">Notifie (Succ&#232;s / &#201;chec)</text><!--SRC=[TP71JW8n48RlynHZBx29n3i74rmqmODHq3lTxW2DjTsqimGUmJU1vzWNSrXKbDLZv_-_Tlw_5xoYDyBAQUk1BJj2TUVg3PQzYUTcluoQRV2O1y_MruJzV98f06quH1pJcboeA08KOODgjatSxEI-aZ2VA42iT6HhRAKzexgfhIixqsTAdF35MzOsKlf7_xrFnpJosctJyU5GKaT_rEPLBsLElaJP5Q3Kh0ijY3e0EAKg92kXjWfrQey0t_bmSDsES8ZpfMMiwhIQGpiHfSqbqhZP6qVUh0Ybn-8mXQCcfavE0MutGjHCq1LFn5doFx1pnu4zB-G79dyOrXIbZakS1Q_ZKrrG1br4xldiJUWyDdl9rPDMQI7VZ_txqJI3ByD0pAUwXlWGs2wil3MhZMbs2Q-mUPTcJFO1]--></g></svg></div><p id="-7bed5c_85"><span class="control" id="-7bed5c_89">Pourquoi c'est fondamental ?</span></p><ul class="list _bullet" id="-7bed5c_86"><li class="list__item" id="-7bed5c_90"><p id="-7bed5c_93"><span class="control" id="-7bed5c_94">D&eacute;tection rapide des r&eacute;gressions :</span> Si une modification casse quelque chose, l'&eacute;quipe le sait en quelques minutes, pas en quelques semaines.</p></li><li class="list__item" id="-7bed5c_91"><p id="-7bed5c_95"><span class="control" id="-7bed5c_96">Confiance dans le build :</span> La branche principale est toujours consid&eacute;r&eacute;e comme stable et &quot;livrable&quot;.</p></li><li class="list__item" id="-7bed5c_92"><p id="-7bed5c_97"><span class="control" id="-7bed5c_98">Culture de la qualit&eacute; :</span> Personne ne veut &ecirc;tre celui qui &quot;casse le build&quot;. Cela incite tout le monde &agrave; tester son code localement avant de le pousser.</p></li></ul></section><section class="chapter"><h2 id="aller-plus-loin-les-tests-de-mutation" data-toc="aller-plus-loin-les-tests-de-mutation">Aller plus loin : Les Tests de Mutation</h2><p id="-7bed5c_99">Les tests de mutation sont une technique fascinante pour &eacute;valuer la <span class="control" id="-7bed5c_103">qualit&eacute; de vos tests</span>. L'id&eacute;e est la suivante : &quot; Et si un m&eacute;chant gremlin modifiait mon code de production ? Est-ce que mes tests le d&eacute;tecteraient ?&quot;.</p><p id="-7bed5c_100">Un outil comme <span class="control" id="-7bed5c_104">Pitest</span> (PIT) va :</p><ol class="list _decimal" id="-7bed5c_101" type="1"><li class="list__item" id="-7bed5c_105"><p id="-7bed5c_110">Ex&eacute;cuter tous vos tests. Ils doivent tous &ecirc;tre verts.</p></li><li class="list__item" id="-7bed5c_106"><p id="-7bed5c_111">Prendre votre code de production et y introduire de petites modifications (des &quot;mutants&quot;). Par exemple, il va changer un <code class="code" id="-7bed5c_112">if (a &gt; b)</code> en <code class="code" id="-7bed5c_113">if (a &gt;= b)</code>.</p></li><li class="list__item" id="-7bed5c_107"><p id="-7bed5c_114">Relancer les tests pour chaque mutant.</p></li><li class="list__item" id="-7bed5c_108"><p id="-7bed5c_115">Si un test &eacute;choue, le mutant est &quot;tu&eacute;&quot;. C'est une <span class="control" id="-7bed5c_116">bonne chose</span>! Cela veut dire que votre test a d&eacute;tect&eacute; le changement.</p></li><li class="list__item" id="-7bed5c_109"><p id="-7bed5c_117">Si tous les tests passent encore, le mutant a &quot;surv&eacute;cu&quot;. C'est une <span class="control" id="-7bed5c_118">mauvaise chose</span>. Cela r&eacute;v&egrave;le une faiblesse dans votre suite de tests.</p></li></ol><p id="-7bed5c_102">Les tests de mutation sont un excellent moyen de remettre en question vos assertions et de vous assurer que vos tests ne sont pas juste des &quot;tests de couverture&quot; qui ex&eacute;cutent le code sans rien valider de pertinent.</p></section><section class="chapter"><h2 id="exercice-15-r-flexion-strat-gique" data-toc="exercice-15-r-flexion-strat-gique">Exercice 15 : R&eacute;flexion strat&eacute;gique</h2><p id="-7bed5c_119">Vous &ecirc;tes le leader technique d'une nouvelle &eacute;quipe qui doit construire une API REST pour un syst&egrave;me de e-commerce. Vous devez pr&eacute;senter votre &quot;strat&eacute;gie de qualit&eacute;&quot; &agrave; l'&eacute;quipe et au management.</p><p id="-7bed5c_120"><span class="control" id="-7bed5c_121">Votre mission :</span> R&eacute;digez un court plan en 3 &agrave; 5 points cl&eacute;s d&eacute;crivant la strat&eacute;gie de test que vous mettriez en place. Utilisez les concepts vus dans ce chapitre (TDD/BDD, CI, types de tests, organisation...). Justifiez bri&egrave;vement chaque point. Il ne s'agit pas d'&eacute;crire du code, mais de d&eacute;finir une approche.</p></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h2 id="correction-exercice-15" data-toc="correction-exercice-15">Correction exercice 15</h2></div><div class="collapse__content"><p id="-7bed5c_122"><span class="control" id="-7bed5c_125">Strat&eacute;gie de Qualit&eacute; pour le Projet E-commerce API</span></p><p id="-7bed5c_123">Voici une proposition de strat&eacute;gie qui combine plusieurs concepts pour une approche robuste.</p><ol class="list _decimal" id="-7bed5c_124" type="1"><li class="list__item" id="-7bed5c_126"><p id="-7bed5c_131"><span class="control" id="-7bed5c_133">Fondation sur la Pyramide des Tests avec une Tendance &quot;Trophy&quot; :</span></p><ul class="list _bullet" id="-7bed5c_132"><li class="list__item" id="-7bed5c_134"><p id="-7bed5c_135"><span class="control" id="-7bed5c_136">Justification :</span> Nous allons construire une base solide de <span class="control" id="-7bed5c_137">tests unitaires</span> rapides pour toute notre logique m&eacute;tier (calculs de prix, gestion de stock), en utilisant une approche <span class="control" id="-7bed5c_138">TDD</span> pour garantir la qualit&eacute; d&egrave;s la conception. Cependant, comme notre API sera compos&eacute;e de nombreux flux int&eacute;gr&eacute;s (commande -&gt; paiement -&gt; stock), nous accorderons une grande importance aux <span class="control" id="-7bed5c_139">tests d'int&eacute;gration</span> (<code class="code" id="-7bed5c_140">@WebMvcTest</code>, <code class="code" id="-7bed5c_141">@DataJpaTest</code>) pour valider la collaboration entre les composants. Ces tests offriront le meilleur retour sur investissement en termes de confiance.</p></li></ul></li><li class="list__item" id="-7bed5c_127"><p id="-7bed5c_142"><span class="control" id="-7bed5c_144">Collaboration via le BDD pour les Flux Critiques :</span></p><ul class="list _bullet" id="-7bed5c_143"><li class="list__item" id="-7bed5c_145"><p id="-7bed5c_146"><span class="control" id="-7bed5c_147">Justification :</span> Pour les fonctionnalit&eacute;s cl&eacute;s comme le &quot;processus de paiement&quot; ou la &quot;cr&eacute;ation de compte&quot;, nous utiliserons une approche <span class="control" id="-7bed5c_148">BDD</span>. Avant toute impl&eacute;mentation, nous organiserons des ateliers avec les Product Owners pour &eacute;crire les sc&eacute;narios en Gherkin (<code class="code" id="-7bed5c_149">Given/When/Then</code>). Cela garantira que nous construisons la bonne chose et ces sc&eacute;narios serviront de base &agrave; nos tests d'int&eacute;gration complets (<code class="code" id="-7bed5c_150">@SpringBootTest</code>).</p></li></ul></li><li class="list__item" id="-7bed5c_128"><p id="-7bed5c_151"><span class="control" id="-7bed5c_153">Int&eacute;gration Continue (CI) comme Gardien de la Qualit&eacute; :</span></p><ul class="list _bullet" id="-7bed5c_152"><li class="list__item" id="-7bed5c_154"><p id="-7bed5c_155"><span class="control" id="-7bed5c_156">Justification :</span> Chaque <code class="code" id="-7bed5c_157">push</code> sur notre d&eacute;p&ocirc;t Git d&eacute;clenchera un pipeline de CI (via GitHub Actions). Ce pipeline compilera le code, ex&eacute;cutera <span class="control" id="-7bed5c_158">tous les tests</span> (unitaires et int&eacute;gration), et analysera la <span class="control" id="-7bed5c_159">couverture de code</span> avec JaCoCo. Un build qui &eacute;choue ou une baisse significative de la couverture sur un module critique emp&ecirc;chera la fusion du code. La qualit&eacute; est non-n&eacute;gociable et v&eacute;rifi&eacute;e en permanence.</p></li></ul></li><li class="list__item" id="-7bed5c_129"><p id="-7bed5c_160"><span class="control" id="-7bed5c_162">Environnements de Test Fiables avec Testcontainers :</span></p><ul class="list _bullet" id="-7bed5c_161"><li class="list__item" id="-7bed5c_163"><p id="-7bed5c_164"><span class="control" id="-7bed5c_165">Justification :</span> Pour &eacute;viter les mauvaises surprises, nos tests d'int&eacute;gration de la couche de persistance ne s' ex&eacute;cuteront pas sur H2, mais sur des conteneurs Docker <span class="control" id="-7bed5c_166">Testcontainers</span> (ex: PostgreSQL, Redis). Cela garantit que nos tests tournent sur les m&ecirc;mes technologies que la production, &eacute;liminant toute une classe de bugs li&eacute;s &agrave; l'environnement.</p></li></ul></li><li class="list__item" id="-7bed5c_130"><p id="-7bed5c_167"><span class="control" id="-7bed5c_169">Organisation et Maintenabilit&eacute; des Tests :</span></p><ul class="list _bullet" id="-7bed5c_168"><li class="list__item" id="-7bed5c_170"><p id="-7bed5c_171"><span class="control" id="-7bed5c_172">Justification :</span> Pour que notre suite de tests reste un atout, nous adopterons des conventions strictes : nommage clair (<code class="code" id="-7bed5c_173">should_when</code>), structure de package en miroir, et utilisation de <span class="control" id="-7bed5c_174">Test Data Builders</span> pour la cr&eacute;ation de donn&eacute;es de test complexes (Commandes, Clients). Cela rendra les tests lisibles, maintenables et r&eacute;duira la duplication de code.</p></li></ul></li></ol></div></div></section><section class="chapter"><h2 id="auto-valuation" data-toc="auto-valuation">Auto-&eacute;valuation</h2><ol class="list _decimal" id="-7bed5c_175" type="1"><li class="list__item" id="-7bed5c_177"><p id="-7bed5c_182">(Question ouverte) D&eacute;crivez le cycle &quot;Rouge-Vert-Refactor&quot; du TDD.</p></li><li class="list__item" id="-7bed5c_178"><p id="-7bed5c_183">(QCM) Lequel de ces &eacute;nonc&eacute;s d&eacute;crit le mieux le BDD ?</p><ul class="list _bullet" id="-7bed5c_184"><li class="list__item" id="-7bed5c_185"><p id="-7bed5c_189">a) Une technique pour &eacute;crire du code plus rapidement.</p></li><li class="list__item" id="-7bed5c_186"><p id="-7bed5c_190">b) Une m&eacute;thodologie de d&eacute;veloppement ax&eacute;e sur la collaboration et la d&eacute;finition partag&eacute;e du comportement attendu.</p></li><li class="list__item" id="-7bed5c_187"><p id="-7bed5c_191">c) Une biblioth&egrave;que pour tester le comportement des bases de donn&eacute;es.</p></li><li class="list__item" id="-7bed5c_188"><p id="-7bed5c_192">d) Une alternative &agrave; JUnit.</p></li></ul></li><li class="list__item" id="-7bed5c_179"><p id="-7bed5c_193">(Question ouverte) Quel est le principal avantage d'utiliser une classe de base de test abstraite pour des configurations de test r&eacute;currentes ?</p></li><li class="list__item" id="-7bed5c_180"><p id="-7bed5c_194">(QCM) L'int&eacute;gration continue (CI) a pour principal objectif de :</p><ul class="list _bullet" id="-7bed5c_195"><li class="list__item" id="-7bed5c_196"><p id="-7bed5c_200">a) Remplacer les tests manuels.</p></li><li class="list__item" id="-7bed5c_197"><p id="-7bed5c_201">b) D&eacute;ployer automatiquement le code en production.</p></li><li class="list__item" id="-7bed5c_198"><p id="-7bed5c_202">c) D&eacute;tecter les probl&egrave;mes d'int&eacute;gration et les r&eacute;gressions le plus t&ocirc;t possible en construisant et testant le code fr&eacute;quemment.</p></li><li class="list__item" id="-7bed5c_199"><p id="-7bed5c_203">d) &Eacute;crire les tests &agrave; la place des d&eacute;veloppeurs.</p></li></ul></li><li class="list__item" id="-7bed5c_181"><p id="-7bed5c_204">(QCM) Un &quot;mutant qui survit&quot; dans un test de mutation signifie que :</p><ul class="list _bullet" id="-7bed5c_205"><li class="list__item" id="-7bed5c_206"><p id="-7bed5c_210">a) Le test est particuli&egrave;rement robuste.</p></li><li class="list__item" id="-7bed5c_207"><p id="-7bed5c_211">b) Le code de production est incassable.</p></li><li class="list__item" id="-7bed5c_208"><p id="-7bed5c_212">c) La modification apport&eacute;e au code n'a &eacute;t&eacute; d&eacute;tect&eacute;e par aucun test, r&eacute;v&eacute;lant une faiblesse dans la suite de tests.</p></li><li class="list__item" id="-7bed5c_209"><p id="-7bed5c_213">d) L'outil de test de mutation a un bug.</p></li></ul></li></ol><p id="-7bed5c_176"><span class="emphasis" id="-7bed5c_214">(Les corrections de l'auto-&eacute;valuation seront fournies &agrave; la toute fin du support de cours.)</span></p></section><section class="chapter"><h2 id="conclusion-de-la-partie" data-toc="conclusion-de-la-partie">Conclusion de la partie</h2><p id="-7bed5c_215">F&eacute;licitations ! Vous avez atteint le sommet de la r&eacute;flexion sur la qualit&eacute; logicielle. Vous comprenez maintenant que les tests ne sont pas une simple activit&eacute; de v&eacute;rification, mais une v&eacute;ritable philosophie qui peut guider l'architecture ( TDD), la collaboration (BDD) et les processus de toute une &eacute;quipe (CI). Vous savez comment organiser votre travail pour qu'il soit durable et comment utiliser des outils avanc&eacute;s pour &eacute;valuer la qualit&eacute; de vos propres tests.</p><p id="-7bed5c_216">Vous &ecirc;tes maintenant &eacute;quip&eacute; non seulement pour &eacute;crire des tests, mais pour <span class="control" id="-7bed5c_217">construire une culture de la qualit&eacute;</span>. C'est une comp&eacute;tence inestimable qui vous distinguera en tant que Concepteur D&eacute;veloppeur d'Application. Dans le dernier chapitre, nous ferons une synth&egrave;se de notre voyage et nous vous donnerons des pistes pour continuer &agrave; apprendre et &agrave; grandir.</p></section><div class="last-modified">16 juin 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="011-00-best-practices.html" class="navigation-links__prev">Chapitre 11 : L'Art du Test : Bonnes Pratiques et Strat&eacute;gies Avanc&eacute;es (L'essentiel)</a><a href="0012-00-conclusion.html" class="navigation-links__next">Chapitre 12 : Conclusion et Aller Plus Loin</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>