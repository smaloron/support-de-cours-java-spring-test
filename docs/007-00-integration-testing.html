<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2025-07-27T21:21:08.764047"><title>Chapitre 7 : L'&Eacute;preuve du Feu : Tests d'Int&eacute;gration Complets | Java Spring Test</title><script type="application/json" id="virtual-toc-data">[{"id":"objectifs-p-dagogiques","level":0,"title":"Objectifs pédagogiques","anchor":"#objectifs-p-dagogiques"},{"id":"introduction-le-grand-final-de-la-r-p-tition-g-n-rale","level":0,"title":"Introduction : Le grand final de la répétition générale","anchor":"#introduction-le-grand-final-de-la-r-p-tition-g-n-rale"},{"id":"quand-utiliser-springboottest-pour-un-test-complet","level":0,"title":"Quand utiliser @SpringBootTest pour un test complet ?","anchor":"#quand-utiliser-springboottest-pour-un-test-complet"},{"id":"mise-en-place-de-l-environnement","level":0,"title":"Mise en Place de l\u0027Environnement","anchor":"#mise-en-place-de-l-environnement"},{"id":"mockmvc-vs-testresttemplate-le-duel","level":0,"title":"MockMvc vs. TestRestTemplate : Le Duel","anchor":"#mockmvc-vs-testresttemplate-le-duel"},{"id":"exemple-tester-le-flux-de-cr-ation-de-livre","level":0,"title":"Exemple : Tester le flux de création de livre","anchor":"#exemple-tester-le-flux-de-cr-ation-de-livre"},{"id":"exercice-10-tester-un-flux-de-recherche","level":0,"title":"Exercice 10 : Tester un flux de recherche","anchor":"#exercice-10-tester-un-flux-de-recherche"},{"id":"correction-exercice-10","level":0,"title":"Correction exercice 10","anchor":"#correction-exercice-10"},{"id":"auto-valuation","level":0,"title":"Auto-évaluation","anchor":"#auto-valuation"},{"id":"conclusion-de-la-partie","level":0,"title":"Conclusion de la partie","anchor":"#conclusion-de-la-partie"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Chapitre 7 : L'&Eacute;preuve du Feu : Tests d'Int&eacute;gration Complets | Java Spring Test"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Java Spring Test Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/007-00-integration-testing.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Chapitre 7 : L'&Eacute;preuve du Feu : Tests d'Int&eacute;gration Complets | Java Spring Test"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/007-00-integration-testing.html#webpage",
    "url": "writerside-documentation/007-00-integration-testing.html",
    "name": "Chapitre 7 : L'&Eacute;preuve du Feu : Tests d'Int&eacute;gration Complets | Java Spring Test",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Java Spring Test Help"
}</script><!-- End Schema.org --></head><body data-id="007-00-integration-testing" data-main-title="Chapitre 7 : L'Épreuve du Feu : Tests d'Intégration Complets" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs=""><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Java Spring Test  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="007-00-integration-testing" id="007-00-integration-testing.md">Chapitre 7 : L'Épreuve du Feu : Tests d'Intégration Complets</h1><section class="chapter"><h2 id="objectifs-p-dagogiques" data-toc="objectifs-p-dagogiques">Objectifs p&eacute;dagogiques</h2><p id="qrlet1_13">&Agrave; la fin de cette partie, vous serez en mesure de :</p><ul class="list _bullet" id="qrlet1_14"><li class="list__item" id="qrlet1_15"><p id="qrlet1_20"><span class="control" id="qrlet1_21">Identifier</span> les sc&eacute;narios o&ugrave; un test d'int&eacute;gration complet avec <code class="code" id="qrlet1_22">@SpringBootTest</code> est pertinent.</p></li><li class="list__item" id="qrlet1_16"><p id="qrlet1_23"><span class="control" id="qrlet1_24">&Eacute;crire</span> un test qui simule un flux complet, du contr&ocirc;leur &agrave; la base de donn&eacute;es.</p></li><li class="list__item" id="qrlet1_17"><p id="qrlet1_25"><span class="control" id="qrlet1_26">Utiliser</span> <code class="code" id="qrlet1_27">TestRestTemplate</code> pour effectuer de r&eacute;els appels HTTP sur votre application en cours d'ex&eacute;cution.</p></li><li class="list__item" id="qrlet1_18"><p id="qrlet1_28"><span class="control" id="qrlet1_29">Comparer</span> l'approche <code class="code" id="qrlet1_30">MockMvc</code> avec l'approche <code class="code" id="qrlet1_31">TestRestTemplate</code>.</p></li><li class="list__item" id="qrlet1_19"><p id="qrlet1_32"><span class="control" id="qrlet1_33">Appr&eacute;cier</span> les avantages et les inconv&eacute;nients de ce type de test (r&eacute;alisme vs. lenteur).</p></li></ul></section><section class="chapter"><h2 id="introduction-le-grand-final-de-la-r-p-tition-g-n-rale" data-toc="introduction-le-grand-final-de-la-r-p-tition-g-n-rale">Introduction : Le grand final de la r&eacute;p&eacute;tition g&eacute;n&eacute;rale</h2><p id="qrlet1_34">Imaginez que notre application est une troupe de th&eacute;&acirc;tre.</p><ul class="list _bullet" id="qrlet1_35"><li class="list__item" id="qrlet1_38"><p id="qrlet1_41">Chapitre 4 : Nous avons test&eacute; chaque acteur (<code class="code" id="qrlet1_42">Service</code>) individuellement pour s'assurer qu'il connaissait son texte.</p></li><li class="list__item" id="qrlet1_39"><p id="qrlet1_43">Chapitre 5 : Nous avons test&eacute; le metteur en sc&egrave;ne (<code class="code" id="qrlet1_44">Controller</code>) avec des doublures pour les acteurs, pour v&eacute;rifier qu'il donnait les bonnes instructions.</p></li><li class="list__item" id="qrlet1_40"><p id="qrlet1_45">Chapitre 6 : Nous avons test&eacute; les machinistes (<code class="code" id="qrlet1_46">Repository</code>) pour &ecirc;tre s&ucirc;rs qu'ils pouvaient changer les d&eacute;cors (<code class="code" id="qrlet1_47">BDD</code>) correctement.</p></li></ul><p id="qrlet1_36">Chaque test &eacute;tait isol&eacute;, focalis&eacute;. Mais maintenant, c'est l'heure de la <span class="control" id="qrlet1_48">r&eacute;p&eacute;tition g&eacute;n&eacute;rale</span>. On allume les projecteurs, on met les vrais acteurs sur sc&egrave;ne avec les vrais d&eacute;cors, et on joue une sc&egrave;ne enti&egrave;re, de l'ouverture du rideau au salut final. On veut s'assurer que tout s'encha&icirc;ne parfaitement, que les acteurs interagissent bien entre eux et avec les d&eacute;cors.</p><p id="qrlet1_37">Un test d'int&eacute;gration complet avec <code class="code" id="qrlet1_49">@SpringBootTest</code> et un serveur web r&eacute;el, c'est exactement cela. On d&eacute;marre (presque) toute l'application et on teste un flux m&eacute;tier complet, de la requ&ecirc;te HTTP entrante jusqu'&agrave; la modification des donn&eacute;es en base, et vice-versa.</p></section><section class="chapter"><h2 id="quand-utiliser-springboottest-pour-un-test-complet" data-toc="quand-utiliser-springboottest-pour-un-test-complet">Quand utiliser <code class="code" id="qrlet1_55">@SpringBootTest</code> pour un test complet ?</h2><p id="qrlet1_51">Ce type de test est le plus haut niveau de la pyramide des tests (avant les tests E2E qui incluent l'UI). Il est lent, lourd, mais il offre le plus haut niveau de confiance. Utilisez-le avec parcimonie pour vos <span class="control" id="qrlet1_56">sc&eacute;narios les plus critiques</span>, les &quot;happy paths&quot; qui d&eacute;finissent la valeur de votre application.</p><p id="qrlet1_52"><span class="control" id="qrlet1_57">Bons candidats pour un test d'int&eacute;gration complet :</span></p><ul class="list _bullet" id="qrlet1_53"><li class="list__item" id="qrlet1_58"><p id="qrlet1_62">Le flux d'inscription d'un utilisateur.</p></li><li class="list__item" id="qrlet1_59"><p id="qrlet1_63">Le processus de passage d'une commande.</p></li><li class="list__item" id="qrlet1_60"><p id="qrlet1_64">La publication d'un article de blog.</p></li><li class="list__item" id="qrlet1_61"><p id="qrlet1_65">Un flux qui implique plusieurs services qui collaborent.</p></li></ul><p id="qrlet1_54">Il ne s'agit pas de tester tous les cas d'erreur ici. Ces cas sont mieux couverts par des tests de tranches, plus rapides. Ici, on veut la confirmation que le &quot;chemin heureux&quot; fonctionne de A &agrave; Z.</p></section><section class="chapter"><h2 id="mise-en-place-de-l-environnement" data-toc="mise-en-place-de-l-environnement">Mise en Place de l'Environnement</h2><p id="qrlet1_66">Pour r&eacute;aliser un test d'int&eacute;gration complet, nous allons combiner plusieurs &eacute;l&eacute;ments :</p><ol class="list _decimal" id="qrlet1_67" type="1"><li class="list__item" id="qrlet1_69"><p id="qrlet1_73"><code class="code" id="qrlet1_74">@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)</code>: Cette annotation d&eacute;marre un contexte Spring complet <span class="control" id="qrlet1_75">ET</span> un vrai serveur web (Tomcat) sur un port al&eacute;atoire.</p></li><li class="list__item" id="qrlet1_70"><p id="qrlet1_76"><code class="code" id="qrlet1_77">@Autowired private TestRestTemplate restTemplate;</code>: <code class="code" id="qrlet1_78">TestRestTemplate</code> est un client HTTP fourni par Spring Boot, sp&eacute;cialement con&ccedil;u pour les tests. Contrairement &agrave; <code class="code" id="qrlet1_79">MockMvc</code>, il effectue de <span class="control" id="qrlet1_80">vrais appels r&eacute;seau</span> (sur <code class="code" id="qrlet1_81">localhost</code>). Il est parfait pour dialoguer avec notre serveur d&eacute;marr&eacute; sur un port al&eacute;atoire.</p></li><li class="list__item" id="qrlet1_71"><p id="qrlet1_82"><code class="code" id="qrlet1_83">@ActiveProfiles(&quot;test&quot;)</code>: Pour s'assurer que nous utilisons une configuration de test, notamment pour la base de donn&eacute;es (H2, par exemple).</p></li><li class="list__item" id="qrlet1_72"><p id="qrlet1_84"><code class="code" id="qrlet1_85">@Transactional</code>: Nous pouvons toujours l'utiliser pour que la base de donn&eacute;es soit nettoy&eacute;e apr&egrave;s chaque test.</p></li></ol><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1119px" preserveAspectRatio="none" style="width:500px;height:1119px;background:#FFFFFF;" version="1.1" viewBox="0 0 500 1119" width="500px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="Verdana" font-size="22" font-weight="bold" lengthAdjust="spacing" textLength="336" x="77.93" y="37.1182">Test d'Int&#233;gration Complet</text><!--cluster Machine de Test--><g id="cluster_Machine de Test"><polygon fill="#FFFFFF" points="21,68.7373,31,58.7373,365,58.7373,365,1092.8373,355,1102.8373,21,1102.8373,21,68.7373" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="355" x2="365" y1="68.7373" y2="58.7373"/><line style="stroke:#000000;stroke-width:1.0;" x1="21" x2="355" y1="68.7373" y2="68.7373"/><line style="stroke:#000000;stroke-width:1.0;" x1="355" x2="355" y1="68.7373" y2="1102.8373"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="126" x="126" y="85.8125">Machine de Test</text></g><!--cluster Classe de Test--><g id="cluster_Classe de Test"><path d="M47.5,107.7373 L159.5,107.7373 A3.75,3.75 0 0 1 162,110.2373 L169,130.752 L252.5,130.752 A2.5,2.5 0 0 1 255,133.252 L255,204.2473 A2.5,2.5 0 0 1 252.5,206.7473 L47.5,206.7473 A2.5,2.5 0 0 1 45,204.2473 L45,110.2373 A2.5,2.5 0 0 1 47.5,107.7373 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="45" x2="169" y1="130.752" y2="130.752"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="111" x="49" y="123.8125">Classe de Test</text></g><!--cluster Client HTTP--><g id="cluster_Client HTTP"><path d="M50.5,255.7473 L143.5,255.7473 A3.75,3.75 0 0 1 146,258.2473 L153,278.762 L243.5,278.762 A2.5,2.5 0 0 1 246,281.262 L246,352.2673 A2.5,2.5 0 0 1 243.5,354.7673 L50.5,354.7673 A2.5,2.5 0 0 1 48,352.2673 L48,258.2473 A2.5,2.5 0 0 1 50.5,255.7473 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="48" x2="153" y1="278.762" y2="278.762"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="92" x="52" y="271.8225">Client HTTP</text></g><!--cluster Application Spring Boot--><g id="cluster_Application Spring Boot"><path d="M114.5,583.7773 L303.5,583.7773 A3.75,3.75 0 0 1 306,586.2773 L313,606.792 L313.5,606.792 A2.5,2.5 0 0 1 316,609.292 L316,896.3273 A2.5,2.5 0 0 1 313.5,898.8273 L114.5,898.8273 A2.5,2.5 0 0 1 112,896.3273 L112,586.2773 A2.5,2.5 0 0 1 114.5,583.7773 " fill="#90EE90" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="112" x2="313" y1="606.792" y2="606.792"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="188" x="116" y="599.8525">Application Spring Boot</text></g><!--cluster Serveur Web (Tomcat)--><g id="cluster_Serveur Web (Tomcat)"><path d="M55.5,411.7673 L236.5,411.7673 A3.75,3.75 0 0 1 239,414.2673 L246,434.782 L248.5,434.782 A2.5,2.5 0 0 1 251,437.282 L251,524.2773 A2.5,2.5 0 0 1 248.5,526.7773 L55.5,526.7773 A2.5,2.5 0 0 1 53,524.2773 L53,414.2673 A2.5,2.5 0 0 1 55.5,411.7673 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="53" x2="246" y1="434.782" y2="434.782"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="180" x="57" y="427.8425">Serveur Web (Tomcat)</text></g><!--cluster Base de Donn?es (H2)--><g id="cluster_Base de Donn&#233;es (H2)"><path d="M55.5,955.8273 L233.5,955.8273 A3.75,3.75 0 0 1 236,958.3273 L243,978.842 L243.5,978.842 A2.5,2.5 0 0 1 246,981.342 L246,1068.3373 A2.5,2.5 0 0 1 243.5,1070.8373 L55.5,1070.8373 A2.5,2.5 0 0 1 53,1068.3373 L53,958.3273 A2.5,2.5 0 0 1 55.5,955.8273 " fill="#FFFFFF" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="53" x2="243" y1="978.842" y2="978.842"/><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="177" x="57" y="971.9025">Base de Donn&#233;es (H2)</text></g><!--entity MonIntegrationTest--><g id="elem_MonIntegrationTest"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="178" x="61" y="143.7373"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1.0;" width="15" x="219" y="148.7373"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="217" y="150.7373"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="217" y="154.7373"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="138" x="76" y="177.8125">MonIntegrationTest</text></g><!--entity TestRestTemplate--><g id="elem_TestRestTemplate"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="167" x="63.5" y="291.7473"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1.0;" width="15" x="210.5" y="296.7473"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="208.5" y="298.7473"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="208.5" y="302.7473"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="127" x="78.5" y="325.8225">TestRestTemplate</text></g><!--entity Controller--><g id="elem_Controller"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="109" x="160.5" y="619.7773"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1.0;" width="15" x="249.5" y="624.7773"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="247.5" y="626.7773"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="247.5" y="630.7773"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="69" x="175.5" y="653.8525">Controller</text></g><!--entity Service--><g id="elem_Service"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="91" x="169.5" y="727.7973"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1.0;" width="15" x="240.5" y="732.7973"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="238.5" y="734.7973"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="238.5" y="738.7973"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="51" x="184.5" y="761.8725">Service</text></g><!--entity Repository--><g id="elem_Repository"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="114" x="159" y="835.8073"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1.0;" width="15" x="253" y="840.8073"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="251" y="842.8073"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="251" y="846.8073"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="74" x="174" y="869.8825">Repository</text></g><!--entity Serveur Web--><g id="elem_Serveur Web"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="131" x="76.5" y="455.7673"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1.0;" width="15" x="187.5" y="460.7673"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="185.5" y="462.7673"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="185.5" y="466.7673"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="91" x="91.5" y="489.8425">Serveur Web</text></g><!--entity BDD (H2)--><g id="elem_BDD (H2)"><rect fill="#FFFFFF" height="47.0146" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.0;" width="109" x="77.5" y="999.8273"/><rect fill="#FFFFFF" height="10" style="stroke:#000000;stroke-width:1.0;" width="15" x="166.5" y="1004.8273"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="164.5" y="1006.8273"/><rect fill="#FFFFFF" height="2" style="stroke:#000000;stroke-width:1.0;" width="4" x="164.5" y="1010.8273"/><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="69" x="92.5" y="1033.9025">BDD (H2)</text></g><!--link Controller to Service--><g id="link_Controller_Service"><path d="M215,673.2873 C215,691.0673 215,703.5673 215,721.3373 " fill="none" id="Controller-Service" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="215,667.2873,211,676.2873,215,672.2873,219,676.2873,215,667.2873" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="215,727.3373,219,718.3373,215,722.3373,211,718.3373,215,727.3373" style="stroke:#000000;stroke-width:1.0;"/></g><!--link Service to Repository--><g id="link_Service_Repository"><path d="M215.274,781.3071 C215.434,799.0871 215.566,811.5875 215.726,829.3575 " fill="none" id="Service-Repository" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="215.22,775.3073,211.3011,784.3429,215.265,780.3071,219.3008,784.2709,215.22,775.3073" style="stroke:#000000;stroke-width:1.0;"/><polygon fill="#000000" points="215.78,835.3573,219.6988,826.3217,215.735,830.3575,211.6991,826.3937,215.78,835.3573" style="stroke:#000000;stroke-width:1.0;"/></g><!--link MonIntegrationTest to TestRestTemplate--><g id="link_MonIntegrationTest_TestRestTemplate"><path d="M149.53,191.0573 C148.97,218.4873 148.1528,258.2486 147.5928,285.5986 " fill="none" id="MonIntegrationTest-to-TestRestTemplate" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="147.47,291.5973,151.6534,282.6811,147.5724,286.5984,143.6551,282.5173,147.47,291.5973" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="40" x="149.86" y="236.8171">utilise</text></g><!--link TestRestTemplate to Serveur Web (Tomcat)--><g id="link_TestRestTemplate_Serveur Web (Tomcat)"><path d="M175.46,339.2473 C191.68,353.8173 211.09,373.9873 223,395.7673 C225.1913,399.7761 227.1452,404.0237 228.8871,408.3936 C229.3225,409.4861 227.6619,404.9593 228.0713,406.0653 " fill="none" id="TestRestTemplate-to-Serveur Web (Tomcat)" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="230.1541,411.6922,230.7812,401.8633,228.4184,407.0031,223.2786,404.6404,230.1541,411.6922" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="275" x="217.86" y="384.8371">Appel HTTP r&#233;el (localhost:random_port)</text></g><!--link Serveur Web (Tomcat) to Controller--><g id="link_Serveur Web (Tomcat)_Controller"><path d="M234.9404,526.9215 C234.7907,527.788 234.6398,528.6609 234.4879,529.5398 C234.1841,531.2975 233.8763,533.0789 233.565,534.8798 C228.585,563.6948 223.7617,591.5999 219.9817,613.4749 " fill="none" id="Serveur Web (Tomcat)-to-Controller" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="218.96,619.3873,224.4341,611.1998,219.8114,614.4603,216.5509,609.8376,218.96,619.3873" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="136" x="231.68" y="564.8471">Transmet la requ&#234;te</text></g><!--link Repository to Base de Donn?es (H2)--><g id="link_Repository_Base de Donn&#233;es (H2)"><path d="M216.85,883.1873 C217.255,894.1773 217.7725,908.1848 218.3227,923.059 C218.5977,930.4961 218.881,938.1499 219.1624,945.7515 C219.2328,947.6519 219.303,949.5491 219.373,951.4388 C219.408,952.3836 219.4429,953.3266 219.4777,954.2672 C219.4951,954.7375 219.2905,949.2113 219.3078,949.6803 " fill="none" id="Repository-to-Base de Donn&#233;es (H2)" style="stroke:#000000;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#000000" points="219.5299,955.6762,223.1941,946.5343,219.3448,950.6796,215.1996,946.8304,219.5299,955.6762" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="52" x="219.64" y="928.8971">Lit/&#201;crit</text></g><!--SRC=[TLBDQjj04BxlKqoTWns8NUZHb41jboJWG4a4FHHJDgkfD6IrkzaT5Kh90_HHtDVGYtKasqKooa6mslb-PhxPTrnYXH2i9gUOs29CCamC-VJESRClecRo3jQ-2XPvefJpkM3kjId98SYvXK_Wjr91csTTI75jTKg3cX6wT-WOljrx9yfu56u1E_Kw85EBkysoBsVC5liWNuRIYsOSyZw5OCaSkdqCaLm1A-_5_M9BHSat4T69tXGsK_taOtu50ioRlR4w8bXCq5abxJZrNTVUSVJMOjprhnyn_YI3Wxi753wnZxzsIem-krGJuyde1pbYCAL-gH4YsaEhgOwGD8JeGzi65GuNgcyA7-VpwvxV_zEnC33j1zBYKDI_uXFCCbz9DfTdYVOWmp1N-h2_ZNUksKisiziFv-JLPjDTTymfR0LrcYe1oOhZ_AYN8CayfmpabmofiOS0YyNro9vX2JMJfOHgfDXnnePjUV8gq7QF2Q8COc5clT6sz8cNKRlSLz-3Ztoftb3enFlRM48cl5GXWzKoy4lT_6NfgxU60saqmfQ_9NxV_36HMBt-0m00]--></g></svg></div></section><section class="chapter"><h2 id="mockmvc-vs-testresttemplate-le-duel" data-toc="mockmvc-vs-testresttemplate-le-duel"><code class="code" id="qrlet1_88">MockMvc</code> vs. <code class="code" id="qrlet1_89">TestRestTemplate</code>: Le Duel</h2><div class="table-wrapper"><table class="wide" id="qrlet1_87"><thead><tr class="ijRowHead" id="qrlet1_90"><th id="qrlet1_98"><p>Caract&eacute;ristique</p></th><th id="qrlet1_99"><p><code class="code" id="qrlet1_101">MockMvc</code> (<code class="code" id="qrlet1_102">@WebMvcTest</code>)</p></th><th id="qrlet1_100"><p><code class="code" id="qrlet1_103">TestRestTemplate</code> (<code class="code" id="qrlet1_104">@SpringBootTest(webEnvironment=...)</code>)</p></th></tr></thead><tbody><tr id="qrlet1_91"><td id="qrlet1_105"><p><span class="control" id="qrlet1_108">Type d'appel</span></p></td><td id="qrlet1_106"><p>Simul&eacute;, dans le processus. Pas de socket r&eacute;seau.</p></td><td id="qrlet1_107"><p><span class="control" id="qrlet1_109">Appel HTTP r&eacute;el</span> sur <code class="code" id="qrlet1_110">localhost</code>.</p></td></tr><tr id="qrlet1_92"><td id="qrlet1_111"><p><span class="control" id="qrlet1_114">Serveur Web</span></p></td><td id="qrlet1_112"><p>Le serveur (Tomcat) n'est pas d&eacute;marr&eacute;.</p></td><td id="qrlet1_113"><p>Un <span class="control" id="qrlet1_115">vrai serveur</span> est d&eacute;marr&eacute;.</p></td></tr><tr id="qrlet1_93"><td id="qrlet1_116"><p><span class="control" id="qrlet1_119">Contexte Spring</span></p></td><td id="qrlet1_117"><p>Partiel (couche web uniquement).</p></td><td id="qrlet1_118"><p><span class="control" id="qrlet1_120">Complet</span> (ou presque).</p></td></tr><tr id="qrlet1_94"><td id="qrlet1_121"><p><span class="control" id="qrlet1_124">Vitesse</span></p></td><td id="qrlet1_122"><p><span class="control" id="qrlet1_125">Rapide</span>.</p></td><td id="qrlet1_123"><p><span class="control" id="qrlet1_126">Lent</span>.</p></td></tr><tr id="qrlet1_95"><td id="qrlet1_127"><p><span class="control" id="qrlet1_130">Test de...</span></p></td><td id="qrlet1_128"><p>Principalement le contr&ocirc;leur et la couche web (filtres, s&eacute;rialisation).</p></td><td id="qrlet1_129"><p>Le <span class="control" id="qrlet1_131">flux complet</span> &agrave; travers toutes les couches.</p></td></tr><tr id="qrlet1_96"><td id="qrlet1_132"><p><span class="control" id="qrlet1_135">Syntaxe</span></p></td><td id="qrlet1_133"><p>Fluide, avec des <code class="code" id="qrlet1_136">perform</code> et des <code class="code" id="qrlet1_137">andExpect</code>.</p></td><td id="qrlet1_134"><p>Plus &quot;brute&quot;, similaire &agrave; <code class="code" id="qrlet1_138">RestTemplate</code>.</p></td></tr><tr id="qrlet1_97"><td id="qrlet1_139"><p><span class="control" id="qrlet1_142">Id&eacute;al pour...</span></p></td><td id="qrlet1_140"><p>Tester les contr&ocirc;leurs en isolation.</p></td><td id="qrlet1_141"><p>Tester les sc&eacute;narios critiques de bout en bout.</p></td></tr></tbody></table></div></section><section class="chapter"><h2 id="exemple-tester-le-flux-de-cr-ation-de-livre" data-toc="exemple-tester-le-flux-de-cr-ation-de-livre">Exemple : Tester le flux de cr&eacute;ation de livre</h2><p id="qrlet1_143">Reprenons notre exemple de cr&eacute;ation de livre. Nous allons tester le flux complet :</p><ol class="list _decimal" id="qrlet1_144" type="1"><li class="list__item" id="qrlet1_147"><p id="qrlet1_152">Un client envoie une requ&ecirc;te <code class="code" id="qrlet1_153">POST</code> sur <code class="code" id="qrlet1_154">/api/books</code>.</p></li><li class="list__item" id="qrlet1_148"><p id="qrlet1_155">Le <code class="code" id="qrlet1_156">BookController</code> la re&ccedil;oit.</p></li><li class="list__item" id="qrlet1_149"><p id="qrlet1_157">Il la transmet au <code class="code" id="qrlet1_158">BookService</code>.</p></li><li class="list__item" id="qrlet1_150"><p id="qrlet1_159">Le <code class="code" id="qrlet1_160">BookService</code> la valide et l'envoie au <code class="code" id="qrlet1_161">BookRepository</code>.</p></li><li class="list__item" id="qrlet1_151"><p id="qrlet1_162">Le <code class="code" id="qrlet1_163">BookRepository</code> l'ins&egrave;re dans la base de donn&eacute;es H2.</p></li></ol><div class="code-block" data-lang="java">
// src/test/java/fr/formation/spring/integration/BookFlowIntegrationTest.java
package fr.formation.spring.integration;

import fr.formation.spring.api.dto.CreateBookDto;
import fr.formation.spring.entity.Book;
import fr.formation.spring.repository.BookRepository;
import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.web.client.TestRestTemplate;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.test.context.ActiveProfiles;

import static org.assertj.core.api.Assertions.assertThat;

@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
@ActiveProfiles(&quot;test&quot;)
class BookFlowIntegrationTest {

    @Autowired
    private TestRestTemplate restTemplate;

    @Autowired
    private BookRepository bookRepository; // On l'injecte pour vérifier la BDD

    // On nettoie la BDD après chaque test car nous n'utilisons pas @Transactional
    // pour que les données soient vraiment commitées.
    @AfterEach
    void tearDown() {
        bookRepository.deleteAll();
    }

    @Test
    void createBook_flow_shouldCreateBookInDatabase() {
        // Arrange
        CreateBookDto newBookDto = new CreateBookDto(&quot;Le Fléau&quot;, &quot;Stephen King&quot;);
        long countBefore = bookRepository.count();

        // Act
        // On fait un vrai appel POST
        ResponseEntity&lt;Book&gt; response = restTemplate.postForEntity(
                &quot;/api/books&quot;,
                newBookDto,
                Book.class
        );

        // Assert
        // 1. Vérifier la réponse HTTP
        assertThat(response.getStatusCode()).isEqualTo(HttpStatus.CREATED);
        assertThat(response.getBody()).isNotNull();
        assertThat(response.getBody().getTitle()).isEqualTo(&quot;Le Fléau&quot;);
        assertThat(response.getBody().getId()).isNotNull();

        // 2. Vérifier directement en base de données (la preuve ultime)
        long countAfter = bookRepository.count();
        assertThat(countAfter).isEqualTo(countBefore + 1);

        Book bookInDb = bookRepository.findById(response.getBody().getId()).orElseThrow();
        assertThat(bookInDb.getAuthor()).isEqualTo(&quot;Stephen King&quot;);
    }
}
</div><aside class="prompt" data-type="warning" data-title="" id="qrlet1_146"><p>**`@Transactional` et `TestRestTemplate`** Attention, le `@Transactional` avec son rollback par d&eacute;faut pose probl&egrave;me ici. La transaction du test et la transaction de l'application (d&eacute;clench&eacute;e par l'appel HTTP) sont deux transactions diff&eacute;rentes. Les donn&eacute;es ins&eacute;r&eacute;es par l'application ne seraient pas visibles par le test. Une solution simple est de ne pas utiliser `@Transactional` et de nettoyer la base manuellement avec `@AfterEach` comme dans l'exemple.</p></aside></section><section class="chapter"><h2 id="exercice-10-tester-un-flux-de-recherche" data-toc="exercice-10-tester-un-flux-de-recherche">Exercice 10 : Tester un flux de recherche</h2><p id="qrlet1_164">Vous allez tester le flux complet de la recherche d'un livre par son ID.</p><ol class="list _decimal" id="qrlet1_165" type="1"><li class="list__item" id="qrlet1_166"><p id="qrlet1_173">Cr&eacute;ez une classe de test <code class="code" id="qrlet1_174">BookSearchIntegrationTest</code>.</p></li><li class="list__item" id="qrlet1_167"><p id="qrlet1_175">Annotez-la pour d&eacute;marrer un serveur sur un port al&eacute;atoire et utiliser le profil &quot;test&quot;.</p></li><li class="list__item" id="qrlet1_168"><p id="qrlet1_176">Injectez <code class="code" id="qrlet1_177">TestRestTemplate</code> et <code class="code" id="qrlet1_178">BookRepository</code>.</p></li><li class="list__item" id="qrlet1_169"><p id="qrlet1_179">Dans une m&eacute;thode de test, commencez par ins&eacute;rer directement un livre dans la base de donn&eacute;es en utilisant le <code class="code" id="qrlet1_180">BookRepository</code> (c'est notre &eacute;tat initial).</p></li><li class="list__item" id="qrlet1_170"><p id="qrlet1_181">Utilisez <code class="code" id="qrlet1_182">TestRestTemplate</code> pour faire un appel <code class="code" id="qrlet1_183">GET</code> &agrave; l'endpoint <code class="code" id="qrlet1_184">/api/books/{id}</code> avec l'ID du livre que vous venez de cr&eacute;er.</p></li><li class="list__item" id="qrlet1_171"><p id="qrlet1_185">V&eacute;rifiez que la r&eacute;ponse a un statut <code class="code" id="qrlet1_186">200 OK</code>.</p></li><li class="list__item" id="qrlet1_172"><p id="qrlet1_187">V&eacute;rifiez que le corps de la r&eacute;ponse n'est pas nul et que le titre du livre dans la r&eacute;ponse correspond &agrave; celui que vous avez ins&eacute;r&eacute;.</p></li></ol></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h2 id="correction-exercice-10" data-toc="correction-exercice-10">Correction exercice 10</h2></div><div class="collapse__content"><div class="code-block" data-lang="java">
// src/test/java/fr/formation/spring/integration/BookSearchIntegrationTest.java
package fr.formation.spring.integration;

import fr.formation.spring.entity.Book;
import fr.formation.spring.repository.BookRepository;
import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.boot.test.web.client.TestRestTemplate;
import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.test.context.ActiveProfiles;

import static org.assertj.core.api.Assertions.assertThat;

@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
@ActiveProfiles(&quot;test&quot;)
class BookSearchIntegrationTest {

    @Autowired
    private TestRestTemplate restTemplate;

    @Autowired
    private BookRepository bookRepository;

    private Book testBook;

    // On prépare les données avant chaque test
    @BeforeEach
    void setUp() {
        bookRepository.deleteAll(); // On nettoie au cas où
        Book book = new Book(&quot;Ça&quot;, &quot;Stephen King&quot;);
        testBook = bookRepository.save(book);
    }

    @Test
    void getBookById_flow_shouldReturnExistingBook() {
        // Arrange : le livre est déjà en BDD grâce au setUp

        // Act
        ResponseEntity&lt;Book&gt; response = restTemplate.getForEntity(
                &quot;/api/books/{id}&quot;,
                Book.class,
                testBook.getId() // On passe l'ID comme variable d'URL
        );

        // Assert
        assertThat(response.getStatusCode()).isEqualTo(HttpStatus.OK);
        assertThat(response.getBody()).isNotNull();
        assertThat(response.getBody().getId()).isEqualTo(testBook.getId());
        assertThat(response.getBody().getTitle()).isEqualTo(&quot;Ça&quot;);
    }
}
</div></div></div></section><section class="chapter"><h2 id="auto-valuation" data-toc="auto-valuation">Auto-&eacute;valuation</h2><ol class="list _decimal" id="qrlet1_189" type="1"><li class="list__item" id="qrlet1_191"><p id="qrlet1_196">(Question ouverte) D&eacute;crivez un sc&eacute;nario d'application pour lequel un test d'int&eacute;gration complet serait plus pertinent qu'un test en tranche.</p></li><li class="list__item" id="qrlet1_192"><p id="qrlet1_197">(QCM) Quelle est la principale diff&eacute;rence entre <code class="code" id="qrlet1_199">MockMvc</code> et <code class="code" id="qrlet1_200">TestRestTemplate</code>?</p><ul class="list _bullet" id="qrlet1_198"><li class="list__item" id="qrlet1_201"><p id="qrlet1_205">a) <code class="code" id="qrlet1_206">MockMvc</code> est plus rapide car il ne d&eacute;marre pas de serveur web.</p></li><li class="list__item" id="qrlet1_202"><p id="qrlet1_207">b) <code class="code" id="qrlet1_208">TestRestTemplate</code> ne peut pas &ecirc;tre utilis&eacute; avec <code class="code" id="qrlet1_209">@SpringBootTest</code>.</p></li><li class="list__item" id="qrlet1_203"><p id="qrlet1_210">c) <code class="code" id="qrlet1_211">MockMvc</code> ne peut tester que des endpoints <code class="code" id="qrlet1_212">GET</code>.</p></li><li class="list__item" id="qrlet1_204"><p id="qrlet1_213">d) <code class="code" id="qrlet1_214">TestRestTemplate</code> ne peut pas envoyer de corps de requ&ecirc;te.</p></li></ul></li><li class="list__item" id="qrlet1_193"><p id="qrlet1_215">(Question ouverte) Pourquoi l'annotation <code class="code" id="qrlet1_216">@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)</code> est-elle particuli&egrave;rement bien adapt&eacute;e aux tests d'int&eacute;gration complets ?</p></li><li class="list__item" id="qrlet1_194"><p id="qrlet1_217">(QCM) Dans un test d'int&eacute;gration complet qui effectue une &eacute;criture en base de donn&eacute;es, pourquoi est-il souvent pr&eacute;f&eacute;rable de nettoyer la base avec <code class="code" id="qrlet1_219">@AfterEach</code> plut&ocirc;t que de se fier au <code class="code" id="qrlet1_220">@Transactional</code> par d&eacute;faut ?</p><ul class="list _bullet" id="qrlet1_218"><li class="list__item" id="qrlet1_221"><p id="qrlet1_225">a) Parce que <code class="code" id="qrlet1_226">@Transactional</code> ne fonctionne pas avec H2.</p></li><li class="list__item" id="qrlet1_222"><p id="qrlet1_227">b) Parce que l'appel HTTP se fait dans une transaction s&eacute;par&eacute;e de celle du test, rendant le rollback inefficace pour ce sc&eacute;nario.</p></li><li class="list__item" id="qrlet1_223"><p id="qrlet1_228">c) Parce que <code class="code" id="qrlet1_229">@AfterEach</code> est plus rapide que <code class="code" id="qrlet1_230">@Transactional</code>.</p></li><li class="list__item" id="qrlet1_224"><p id="qrlet1_231">d) Parce que <code class="code" id="qrlet1_232">@Transactional</code> n'est pas compatible avec <code class="code" id="qrlet1_233">@SpringBootTest</code>.</p></li></ul></li><li class="list__item" id="qrlet1_195"><p id="qrlet1_234">(QCM) L'objectif principal d'un test d'int&eacute;gration complet est de :</p><ul class="list _bullet" id="qrlet1_235"><li class="list__item" id="qrlet1_236"><p id="qrlet1_240">a) Tester tous les cas d'erreur et les branches de code d'un service.</p></li><li class="list__item" id="qrlet1_237"><p id="qrlet1_241">b) V&eacute;rifier que les composants de l'application (contr&ocirc;leur, service, repository) collaborent correctement pour un flux m&eacute;tier critique.</p></li><li class="list__item" id="qrlet1_238"><p id="qrlet1_242">c) Tester l'interface utilisateur.</p></li><li class="list__item" id="qrlet1_239"><p id="qrlet1_243">d) Remplacer les tests unitaires.</p></li></ul></li></ol><p id="qrlet1_190"><span class="emphasis" id="qrlet1_244">(Les corrections de l'auto-&eacute;valuation seront fournies &agrave; la toute fin du support de cours.)</span></p></section><section class="chapter"><h2 id="conclusion-de-la-partie" data-toc="conclusion-de-la-partie">Conclusion de la partie</h2><p id="qrlet1_245">Vous avez atteint le sommet de la pyramide des tests (au sein de votre service) ! Vous savez maintenant comment mener la &quot;r&eacute;p&eacute;tition g&eacute;n&eacute;rale&quot; de votre application en testant des flux complets. Vous avez appris &agrave; utiliser <code class="code" id="qrlet1_247">@SpringBootTest</code> avec un vrai serveur web et &agrave; interagir avec lui via <code class="code" id="qrlet1_248">TestRestTemplate</code>. Vous comprenez surtout les compromis : ces tests sont une ressource pr&eacute;cieuse car ils sont tr&egrave;s r&eacute;alistes, mais ils sont aussi co&ucirc;teux &agrave; ex&eacute;cuter. Il faut donc les r&eacute;server pour vos sc&eacute;narios les plus importants.</p><p id="qrlet1_246">Cette comp&eacute;tence est essentielle, mais le monde r&eacute;el nous confronte souvent &agrave; un autre d&eacute;fi : comment tester notre application lorsqu'elle d&eacute;pend de services externes (une autre base de donn&eacute;es, un service de messagerie, une autre API) ? C'est le sujet de notre prochain chapitre, o&ugrave; nous d&eacute;couvrirons la magie de Testcontainers.</p></section><div class="last-modified">16 juin 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="006-00-database-testing.html" class="navigation-links__prev">Chapitre 6 : Tester les Fondations : La Couche d'Acc&egrave;s aux Donn&eacute;es</a><a href="008-00-testcontainers.html" class="navigation-links__next">Chapitre 8 : Le Test en Conditions R&eacute;elles : G&eacute;rer les D&eacute;pendances Externes avec Testcontainers</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.22.0-b776/app.js"></script></body></html>